# 2024 年日志

## 11月日志

> [!caution]
>
> rabbitmq 消费端消费失败后，需要考虑补偿机制。同时，引入补偿机制需要考虑消息幂等性，避免消息重复消费问题。
>
> 对于数据一致性要求高的场景，如：与钱袋子💰相关的，一定要使用手动ACK模式，确保消息处理的准确性。
>
> - [RabbitMQ解决消费者补偿幂等问题(重复消费问题)](https://blog.csdn.net/belongtocode/article/details/104310152)
>
> - [RabbitMQ的消息确认机制Ack Mode](https://blog.csdn.net/qq_60638478/article/details/141220718) 
> - [SpringBoot整合RabbitMQ（小兔子成神之路）](https://blog.csdn.net/AkiraNicky/article/details/89640512)


> [!warning]
> Docker 拉取镜像慢时，需配置==可访问==的第三方镜像，如：
>
> ```json
> {
> "registry-mirrors": [
>  "http://hub-mirror.c.163.com",
>  "https://docker.mirrors.ustc.edu.cn",
>  "https://pee6w651.mirror.aliyuncs.com"
> ]
> }
> ```
> 配置后，需要重载文件、重启Docker服务

> [!tip]
> Docker 常用镜像的启动参数得懂，比如启动 MySQL:
> ```shell
> docker run -d --restart=always --name mysql \
> -v /datas/mysql/data:/var/lib/mysql \
> -v /datas/mysql/conf:/etc/mysql \
> -v /datas/mysql/log:/var/log/mysql \
> -p 3306:3306 \
> -e TZ=Asia/Shanghai \
> -e MYSQL_ROOT_PASSWORD=root \
> mysql:5.6 \
> --character-set-server=utf8mb4 \
> --collation-server=utf8mb4_general_ci
> ```
> 
> ```
> -v /datas/mysql/data:/var/lib/mysql：将数据文件夹挂载到主机
> -v /datas/mysql/conf:/etc/mysql：将配置文件夹挂在到主机，可以在宿主机放一份自定义 my.cnf文件，那么容器就会按自定义配置启动
> -v /datas/mysql/log:/var/log/mysql：将日志文件夹挂载到主机
> -p 3306:3306：将容器的3306端口映射到主机的3306端口
> -e MYSQL_ROOT_PASSWORD=root：初始化root用户的密码
> --character-set-server=utf8mb4：设置字符集
> --collation-server=utf8mb4_general_ci：排序方式
> ```

> [!tip]
> 可以在 Win/Mac 下同时配置 Github、Gitee，也可以一个项目管理同时关联Gitee、Github库


## 10月日志

> [!info]
> CAT 成功部署并访问，环境如下：
> 
>  虚拟机 Linux Centos8  `Linux localhost.localdomain 4.18.0-348.7.1.el8_5.x86_64 #1 SMP Wed Dec 22 13:25:12 UTC 2021 x86_64 x86_64 x86_64 GNU/Linux`
> 
>  JAVA8 `java version "1.8.0_431"`
> 
>  TOMCAT7 `apache-tomcat-7.0.99.tar.gz`
> 
>  MAVEN3 `Apache Maven 3.6.3`

---
head:
  - - meta
    - name: æ—¥å¿—
      content: å¼€å‘æ—¥å¿—
---

> [!important]
> é‡è¦æ–‡å­—

> [!info]
> ä¿¡æ¯æ–‡å­—

> [!tip]
> æç¤ºæ–‡å­—

> [!warning]
> æ³¨æ„æ–‡å­—

> [!caution]
> è­¦å‘Šæ–‡å­—

> [!note]
> æ³¨é‡Šæ–‡å­—

# 2024 å¹´æ—¥å¿—

## 12æœˆæ—¥å¿—



> [!info]
>
> `CentOS-8.5.2111-x86_64-boot.iso` 
>
> - é•œåƒä¸‹è½½ï¼š https://mirrors.tuna.tsinghua.edu.cn/[](https://mirrors.tuna.tsinghua.edu.cn/) 
> - å®‰è£…æ•™ç¨‹ï¼š[https://linux.cn/article-11438-1.html](https://linux.cn/article-11438-1.html)

> [!tip]
>
> - [github pagesç»‘å®šè‡ªå®šä¹‰åŸŸå+è§£æ+CDNåŠ é€Ÿ](https://jeoliii072.top/2024/09/06/github-pages-bang-ding-zi-ding-yi-yu-ming-jie-xi-cdn-jia-su/)
>
> - [GitHub Pages ç»‘å®šä¸ªäººåŸŸåï¼Œå… Cloudflare æ”¯æŒ HTTPS](https://io-oi.me/tech/custom-domains-on-github-pages/)

> [!info]
>
> [æ•æ·å¼€å‘](https://help.aliyun.com/zh/yunxiao/use-cases/agile-development/?spm=a2c4g.11186623.help-menu-150040.d_3_1.74aa1c602RLG4c)
>
> ![image.png](https://cdn.jsdelivr.net/gh/zhengzhenning/imageBeds@main/images/p714992.png)

> [!tip]
>
> è‡ªå»ºçš„åº”ç”¨æœåŠ¡å™¨ï¼Œéœ€è¦åšå“ªäº›é…ç½®åˆå§‹åŒ–å·¥ä½œï¼Œè¿™äº›å·¥ä½œæ˜¯å¦å¯ä»¥é€šè¿‡è„šæœ¬å®ç°ä¸€æ­¥åˆ°ä½çš„åˆå§‹åŒ–å·¥ä½œï¼Œæ¯”å¦‚ï¼š
>
> 1. è®¾ç½®æœåŠ¡å™¨å
> 2. è®¾ç½®æ—¶åŒº
> 3. å…³é—­é˜²ç«å¢™
> 4. â€¦
>
> å‚è€ƒï¼š
>
> - [é˜®ä¸€å³°ï¼šLinuxæœåŠ¡å™¨çš„åˆæ­¥é…ç½®æµç¨‹](https://www.ruanyifeng.com/blog/2014/03/server_setup.html)
> - [LinuxæœåŠ¡å™¨åˆå§‹åŒ–å·¥ä½œ](https://blog.csdn.net/weixin_43045613/article/details/127040945)
> - [æœåŠ¡å™¨æ€§èƒ½ä¼˜åŒ–](https://www.easemob.com/news/9324)
>   - CPUä½¿ç”¨æƒ…å†µï¼Œå¯ä»¥ä½¿ç”¨ `htop` æŸ¥çœ‹
>   - å†…å­˜ä½¿ç”¨æƒ…å†µï¼Œå¯ä»¥ä½¿ç”¨ `htop` æŸ¥çœ‹
>   - ç£ç›˜IOä½¿ç”¨æƒ…å†µï¼Œå¯ä»¥ä½¿ç”¨ `iostat` æŸ¥çœ‹
>   - å¹³å‡è´Ÿè½½æƒ…å†µï¼Œå¯ä»¥ä½¿ç”¨ `htop` æŸ¥çœ‹
>   - ç½‘ç»œä½¿ç”¨æƒ…å†µï¼Œå¯ä»¥ä½¿ç”¨ `nload` æŸ¥çœ‹
>   - æ£€æŸ¥æœåŠ¡å™¨è°ƒä¼˜å‚æ•°æ˜¯å¦è®¾ç½®åˆç†ï¼šå•ä¸ªè¿›ç¨‹æœ€å¤§æ‰“å¼€æ–‡ä»¶æ•°ã€TCPç›¸å…³è®¾ç½®ã€‚
>
> 

> [!info]
>
> `é˜¿é‡Œäº‘æ•ˆ` `CI/CD`
>
> ![äº‘æ•ˆCI/CDå·¥å…·å…¨æ™¯å›¾](https://cdn.jsdelivr.net/gh/zhengzhenning/imageBeds@main/images/p539226.png)
>
> é€‰æ‹©äº‘æ•ˆçš„ç†ç”±ï¼šå¼€ç®±å³ç”¨ã€å…è¿ç»´ã€æ˜“ä¸Šæ‰‹ã€‚
>
> - [æµæ°´çº¿å…³é”®æ¦‚å¿µè§£æ](https://help.aliyun.com/zh/yunxiao/user-guide/analysis-of-key-concepts-of-pipeline?spm=a2c4g.11186623.help-menu-150040.d_2_4_1_0.3019bd46br26fO&scm=20140722.H_2805926._.OR_help-T_cn~zh-V_1)

> [!info]
>
> `æ¨æ³¢` `åˆ†å¸ƒå¼ç³»ç»Ÿæ¡ˆä¾‹è¯¾`
>
> [åˆ†å¸ƒå¼è®¡æ•°æœåŠ¡è®¾è®¡](https://youtu.be/bUHFg8CZFws?si=kY2vQuAuFZOGcX9A)
>
> ç®€æ˜æ€è·¯æ¡†æ¶ï¼š
>
> - åŠŸèƒ½æ€§éœ€æ±‚ï¼ˆAPIï¼‰
>   1. ç”¨ä¾‹ ~ ç”¨æˆ·ç¾¤ä½“ç­‰
>   2. è¾“å…¥è¾“å‡º
> - éåŠŸèƒ½æ€§éœ€æ±‚
>   1. é«˜æ€§èƒ½ ~ å¿«é€Ÿè¯»å†™
>   2. é«˜å¯ç”¨ ~ ä¸ä¸¢æ•°æ®ï¼Œç¾éš¾æ¢å¤
>   3. å¯æ‰©å±• ~ æ ¹æ®è¯»å†™è§„æ¨¡æŒ‰éœ€æ‰©å±•
>   4. æˆæœ¬ï¼ˆå¼€å‘ã€è¿ç»´ï¼‰
>   5. å…¶ä»– ~ ç ”å‘å­¦ä¹ é—¨æ§›
>
> 

> [!info]
>
> `æ¨æ³¢` `åˆ†å¸ƒå¼ç³»ç»Ÿæ¡ˆä¾‹è¯¾`
>
> å¾®æœåŠ¡çš„å…³æ³¨ç‚¹åˆ†ä¸¤å¤§ç±»ï¼šå…¬å…±å…³æ³¨ç‚¹ã€ä¸šåŠ¡å…³æ³¨ç‚¹ã€‚äºŒè€…ä¾§é‡ä¸åŒï¼Œå¯¹äºå…¬å…±å…³æ³¨ç‚¹ï¼Œ[**Service Meshï¼ˆæœåŠ¡ç½‘æ ¼ï¼‰**](https://jimmysong.io/blog/what-is-a-service-mesh/) æ­£åœ¨è®©å…¶å˜å¾—æ— æ„Ÿä¸”æ˜“äºæ²»ç†ï¼Œä»¥ä¾¿è®©å¼€å‘æ›´åŠ ä¸“æ³¨äºä¸šåŠ¡å¼€å‘ã€‚
>
> å…¬å…±å…³æ³¨ç‚¹ä¸€èˆ¬éœ€è¦å…³æ³¨ï¼š
>
> 1. æœåŠ¡å‘ç°/è´Ÿè½½å‡è¡¡
> 2. è¾¹ç•Œä»£ç†/ç½‘å…³
> 3. é…ç½®ä¸­å¿ƒ
> 4. è°ƒåº¦å’Œå‘å¸ƒ
> 5. ç›‘æ§æ²»ç†
> 6. é™æµå®¹é”™
> 7. æµé‡æ²»ç†
> 8. å®‰å…¨æ²»ç†
>
> ä¸šåŠ¡å…³æ³¨ç‚¹ä¸€èˆ¬å…³æ³¨ï¼š
>
> 1. æ•°æ®ä¸€è‡´æ€§åˆ†å‘
> 2. æ•°æ®èšåˆ
> 3. åˆ†å¸ƒå¼äº‹åŠ¡
> 4. å•ä½“ç³»ç»Ÿè§£è€¦æ‹†åˆ†ï¼ˆå³å¦‚ä½•å‘å¾®æœåŠ¡æ¶æ„æ¼”è¿›ï¼‰
> 5. â€¦
> 6. åˆ†å¸ƒå¼é”
> 7. å»¶è¿Ÿé˜Ÿåˆ—ä»»åŠ¡

> [!info]
>
> Vuepress-hope-theme + Algolia å®ç°å…¨æ–‡æœç´¢
>
> - [https://ecosystem.vuejs.press/zh/plugins/search/docsearch.html](https://ecosystem.vuejs.press/zh/plugins/search/docsearch.html)
> - [Vuepressé…ç½®Algoliaæœç´¢çš„æ–¹æ³•ä»¥åŠé¿å‘æŒ‡å—](https://blog.csdn.net/weixin_44495599/article/details/132022146)

> [!info]
>
> # é€æ˜å¤šçº§åˆ†æµç³»ç»Ÿ
>
> ## å®¢æˆ·ç«¯ç¼“å­˜
>
> ## åŸŸåè§£æ
>
> ## ä¼ è¾“é“¾è·¯
>
> ### HTTP/1.X (HTTP over TCP)
>
> 
>
> ### HTTP/2.X (HTTP over TCP)
>
> ![HTTP/2.Xå¤šè·¯å¤ç”¨](https://cdn.jsdelivr.net/gh/zhengzhenning/imageBeds@main/images/http2-con.f8b394df.png)
>
> ### HTTP/3.X ï¼ˆHTTP over QUICï¼‰
>
> 
>
> 
>
> ## å†…å®¹åˆ†å‘ç½‘ç»œï¼ˆCNDï¼‰
>
> 
>
> ## è´Ÿè½½å‡è¡¡
>
> `é›†ç¾¤éƒ¨ç½²` `æ•°æ®é“¾è·¯å±‚è´Ÿè½½å‡è¡¡` `ç½‘ç»œå±‚è´Ÿè½½å‡è¡¡` `åº”ç”¨å±‚è´Ÿè½½å‡è¡¡`
>
> ### æ•°æ®é“¾è·¯å±‚è´Ÿè½½å‡è¡¡ï¼ˆæ•ˆç‡æœ€é«˜ï¼‰
>
> æ•°æ®é“¾è·¯å±‚ä¸»è¦è´Ÿè´£åœ¨ä¸¤ä¸ªç½‘ç»œå®ä½“ä¹‹é—´æä¾›æ•°æ®é“¾è·¯è¿æ¥çš„ç®€å†ã€ç»´æŒå’Œé‡Šæ”¾ç®¡ç†ã€‚æ•°æ®æ¡¢æ˜¯è¯¥å±‚çš„æœ€å°æ•°æ®å•å…ƒã€‚å¸¸è§çš„æ•°æ®æ¡¢æœ‰ï¼š[ä»¥å¤ªç½‘æ¡¢](https://zh.wikipedia.org/wiki/%E4%BB%A5%E5%A4%AA%E7%BD%91%E5%B8%A7%E6%A0%BC%E5%BC%8F)ã€PPPæ¡¢ã€‚æ¯”å¦‚ï¼š 1500 Bytes MTU ä»¥å¤ªç½‘å¸§ç»“æ„ï¼š
>
> ![1500 Bytes MTU ä»¥å¤ªç½‘æ¡¢ç»“æ„](https://cdn.jsdelivr.net/gh/zhengzhenning/imageBeds@main/images/image-20241220164600628.png)
>
> åœ¨è¿™ä¸€å±‚ï¼Œè¯·æ±‚å…ˆåˆ°è¾¾å‡è¡¡å™¨ï¼Œå†ç”±å‡è¡¡å™¨å°† MACç›®æ ‡åœ°å€ä¿®æ”¹ä¸ºçœŸå®æœåŠ¡å™¨çš„MACåœ°å€ï¼Œå¦‚å›¾ï¼š
>
> ![æ•°æ®é“¾è·¯å±‚è´Ÿå€ºå‡è¡¡](https://cdn.jsdelivr.net/gh/zhengzhenning/imageBeds@main/images/l2-lb.42b825ec.png)
>
> 
>
> ### ç½‘ç»œå±‚è´Ÿè½½å‡è¡¡
>
> 
>
> ### åº”ç”¨å±‚è´Ÿè½½å‡è¡¡
>
> è¯·æ±‚ç¦»å¼€**ä¼ è¾“å±‚**åï¼Œå°±æ— æ³•å†é€šè¿‡**è½¬å‘**æ–¹å¼è·¯ç”±æ•°æ®ï¼Œåªèƒ½é€šè¿‡**ä»£ç†**æ–¹å¼å®ç°ï¼Œå› æ­¤å½“è¯·æ±‚åˆ°è¾¾åº”ç”¨å±‚åï¼Œåº”ç”¨å±‚çš„è´Ÿè½½å‡è¡¡æ˜¯é€šè¿‡**ä»£ç†**æ–¹å¼å®ç°ï¼Œå¦‚å›¾ï¼š
>
> ![è½¬å‘ä¸ä»£ç†](https://cdn.jsdelivr.net/gh/zhengzhenning/imageBeds@main/images/l4l7.5410d0a6.png)
>
> å¦‚æœç½‘ç«™çš„æ€§èƒ½ç“¶é¢ˆå¹¶ä¸åœ¨äºç½‘ç»œæ€§èƒ½ï¼Œè¦è®ºæ•´ä¸ªæœåŠ¡é›†ç¾¤å¯¹å¤–æ‰€ä½“ç°å‡ºæ¥çš„æœåŠ¡æ€§èƒ½ï¼Œé‚£ä¹ˆè¿™ä¸€å±‚å‡è¡¡å™¨å¯ä»¥æ‰¿è½½æ›´å¤šçš„èƒ½åŠ›ï¼Œæ¯”å¦‚ï¼šé™æ€èµ„æºç¼“å­˜ã€å®‰å…¨é˜²æŠ¤ï¼ˆå¦‚ï¼šDDoSï¼‰ã€è®¿é—®æ§åˆ¶ï¼ˆå¦‚ï¼šæœåŠ¡é™çº§ã€ç†”æ–­ã€å¼‚å¸¸æ³¨å…¥ç­‰ï¼‰ã€‚
>
> ### å‡è¡¡ç­–ç•¥
>
> `è½®è¯¢å‡è¡¡ç­–ç•¥` `æƒé‡è½®è¯¢å‡è¡¡ç­–ç•¥` `éšæœºå‡è¡¡ç­–ç•¥` `æƒé‡éšæœºå‡è¡¡ç­–ç•¥` `ä¸€è‡´æ€§å“ˆå¸Œå‡è¡¡ç­–ç•¥` `å“åº”é€Ÿåº¦å‡è¡¡ç­–ç•¥` `æœ€å°‘è¿æ¥æ•°å‡è¡¡ç­–ç•¥`
>
> 
>
> ## æœåŠ¡ç«¯ç¼“å­˜

> [!info]
>
> `å‡¤å‡°æ¶æ„` `è¿œç¨‹æœåŠ¡è°ƒç”¨` `äº‹åŠ¡å¤„ç†` `é€æ˜å¤šçº§åˆ†æµç³»ç»Ÿ` `æ¶æ„å®‰å…¨æ€§` 
>
> # äº‹åŠ¡å¤„ç†
>
> `ACID` `CAP ç†è®º` `BASE ç†è®º`
>
> *äº‹åŠ¡çš„æ¦‚å¿µè™½ç„¶æœ€åˆèµ·æºäºæ•°æ®åº“ç³»ç»Ÿï¼Œä½†ä»Šå¤©å·²ç»æœ‰æ‰€å»¶ä¼¸ï¼Œè€Œä¸å†å±€é™äºæ•°æ®åº“æœ¬èº«äº†ï¼Œæ‰€æœ‰éœ€è¦ä¿è¯æ•°æ®ä¸€è‡´æ€§çš„åº”ç”¨åœºæ™¯ï¼ŒåŒ…æ‹¬ä½†ä¸é™äºæ•°æ®åº“ã€[äº‹åŠ¡å†…å­˜](https://en.wikipedia.org/wiki/Transactional_memory)ã€ç¼“å­˜ã€æ¶ˆæ¯é˜Ÿåˆ—ã€åˆ†å¸ƒå¼å­˜å‚¨ï¼Œç­‰ç­‰ï¼Œéƒ½æœ‰å¯èƒ½ä¼šç”¨åˆ°äº‹åŠ¡ã€‚*
>
> - *å½“ä¸€ä¸ªæœåŠ¡åªä½¿ç”¨ä¸€ä¸ªæ•°æ®æºæ—¶ï¼Œé€šè¿‡ Aã€Iã€D æ¥è·å¾—ä¸€è‡´æ€§æ˜¯æœ€ç»å…¸çš„åšæ³•ï¼Œä¹Ÿæ˜¯ç›¸å¯¹å®¹æ˜“çš„ã€‚æ­¤æ—¶ï¼Œå¤šä¸ªå¹¶å‘äº‹åŠ¡æ‰€è¯»å†™çš„æ•°æ®èƒ½å¤Ÿè¢«æ•°æ®æºæ„ŸçŸ¥æ˜¯å¦å­˜åœ¨å†²çªï¼Œ**å¹¶å‘äº‹åŠ¡çš„è¯»å†™åœ¨æ—¶é—´çº¿ä¸Šçš„æœ€ç»ˆé¡ºåºæ˜¯ç”±æ•°æ®æºæ¥ç¡®å®šçš„**ï¼Œè¿™ç§äº‹åŠ¡é—´ä¸€è‡´æ€§è¢«ç§°ä¸ºâ€œå†…éƒ¨ä¸€è‡´æ€§â€ã€‚*
> - *å½“ä¸€ä¸ªæœåŠ¡ä½¿ç”¨åˆ°å¤šä¸ªä¸åŒçš„æ•°æ®æºï¼Œç”šè‡³å¤šä¸ªä¸åŒæœåŠ¡åŒæ—¶æ¶‰åŠå¤šä¸ªä¸åŒçš„æ•°æ®æºæ—¶ï¼Œé—®é¢˜å°±å˜å¾—ç›¸å¯¹å›°éš¾äº†è®¸å¤šã€‚æ­¤æ—¶ï¼Œ**å¹¶å‘æ‰§è¡Œç”šè‡³æ˜¯å…ˆåæ‰§è¡Œçš„å¤šä¸ªäº‹åŠ¡ï¼Œåœ¨æ—¶é—´çº¿ä¸Šçš„é¡ºåºå¹¶ä¸ç”±ä»»ä½•ä¸€ä¸ªæ•°æ®æºæ¥å†³å®š**ï¼Œè¿™ç§æ¶‰åŠå¤šä¸ªæ•°æ®æºçš„äº‹åŠ¡é—´ä¸€è‡´æ€§è¢«ç§°ä¸ºâ€œå¤–éƒ¨ä¸€è‡´æ€§â€ã€‚*
>
> *å¤–éƒ¨ä¸€è‡´æ€§é—®é¢˜é€šå¸¸å¾ˆéš¾å†ä½¿ç”¨ Aã€Iã€D æ¥è§£å†³ï¼Œå› ä¸ºè¿™æ ·éœ€è¦ä»˜å‡ºå¾ˆå¤§ä¹ƒè‡³ä¸åˆ‡å®é™…çš„ä»£ä»·ï¼›ä½†æ˜¯å¤–éƒ¨ä¸€è‡´æ€§åˆæ˜¯åˆ†å¸ƒå¼ç³»ç»Ÿä¸­å¿…ç„¶ä¼šé‡åˆ°ä¸”å¿…é¡»è¦è§£å†³çš„é—®é¢˜ï¼Œä¸ºæ­¤æˆ‘ä»¬è¦è½¬å˜è§‚å¿µï¼Œå°†ä¸€è‡´æ€§ä»â€œæ˜¯æˆ–å¦â€çš„äºŒå…ƒå±æ€§è½¬å˜ä¸ºå¯ä»¥æŒ‰ä¸åŒå¼ºåº¦åˆ†å¼€è®¨è®ºçš„å¤šå…ƒå±æ€§ï¼Œåœ¨ç¡®ä¿ä»£ä»·å¯æ‰¿å—çš„å‰æä¸‹è·å¾—å¼ºåº¦å°½å¯èƒ½é«˜çš„ä¸€è‡´æ€§ä¿éšœï¼Œä¹Ÿæ­£å› å¦‚æ­¤ï¼Œäº‹åŠ¡å¤„ç†æ‰ä»ä¸€ä¸ªå…·ä½“æ“ä½œä¸Šçš„â€œç¼–ç¨‹é—®é¢˜â€ä¸Šå‡æˆä¸€ä¸ªéœ€è¦å…¨å±€æƒè¡¡çš„â€œæ¶æ„é—®é¢˜â€ã€‚*
>
> - æœ¬åœ°äº‹åŠ¡
>
> - å…¨å±€äº‹åŠ¡
>
>   - ä¸¤æ®µå¼æäº¤ï¼ˆ2PCï¼‰åè®®
>   - ä¸‰æ®µå¼æäº¤ï¼ˆ3PCï¼‰åè®®
>
> - å…±äº«äº‹åŠ¡
>
> - åˆ†å¸ƒå¼äº‹åŠ¡
>
>   - [TCC äº‹åŠ¡](https://seata.apache.org/zh-cn/docs/user/mode/tcc)ï¼šé€‚åˆç”¨äºéœ€è¦**å¼ºéš”ç¦»æ€§**çš„åˆ†å¸ƒå¼äº‹åŠ¡ï¼Œæ¯”å¦‚ï¼šè§£å†³â€œè¶…å–â€é—®é¢˜ã€‚ `ä¸šåŠ¡ä¾µå…¥æ€§å¼º` `æ€§èƒ½æœ€ä¼˜` 
>   - [SAGA äº‹åŠ¡](https://seata.apache.org/zh-cn/docs/user/mode/saga)ï¼šé€‚ç”¨äº**ä¸šåŠ¡æµç¨‹é•¿ã€ä¸šåŠ¡æµç¨‹å¤š**ï¼Œä½†ä¸ä¿è¯éš”ç¦»æ€§ã€‚
>   - XA äº‹åŠ¡ï¼šåŸºäº XA åè®®å®ç°ã€‚å­˜åœ¨XA prepare åï¼Œåˆ†æ”¯äº‹åŠ¡è¿›å…¥é˜»å¡é˜¶æ®µï¼Œæ”¶åˆ° XA commit æˆ– XA rollback å‰å¿…é¡»**é˜»å¡ç­‰å¾…**ã€‚äº‹åŠ¡èµ„æº**é•¿æ—¶é—´å¾—ä¸åˆ°é‡Šæ”¾**ï¼Œé”å®šå‘¨æœŸé•¿ï¼Œè€Œä¸”åœ¨åº”ç”¨å±‚ä¸Šé¢**æ— æ³•å¹²é¢„ï¼Œæ€§èƒ½å·®**ã€‚  `æ€§èƒ½æœ€å·®`
>

> [!note]
>
> `å‡¤å‡°æ¶æ„`
>
> åˆ†å¸ƒå¼æ¶æ„ä¸­å‡ºç°çš„é—®é¢˜ï¼Œå¦‚æ³¨å†Œå‘ç°ã€è·Ÿè¸ªæ²»ç†ã€è´Ÿè½½å‡è¡¡ã€ä¼ è¾“é€šä¿¡ç­‰ï¼Œæ—¢å¯ä»¥ç”±ç¡¬ä»¶å®ç°ï¼Œä¹Ÿå¯ä»¥ç”±è½¯ä»¶å®ç°ï¼š
>
> ç¡¬ä»¶å±‚é¢çš„è§£å†³æ–¹æ¡ˆ
>
> - æŸä¸ªç³»ç»Ÿéœ€è¦**ä¼¸ç¼©æ‰©å®¹**ï¼Œé€šå¸¸ä¼šè´­ä¹°**æ–°çš„æœåŠ¡å™¨**ï¼Œéƒ¨ç½²è‹¥å¹²å‰¯æœ¬å®ä¾‹æ¥åˆ†æ‹…å‹åŠ›ï¼›
> - å¦‚æœæŸä¸ªç³»ç»Ÿéœ€è¦è§£å†³**è´Ÿè½½å‡è¡¡**é—®é¢˜ï¼Œé€šå¸¸ä¼šå¸ƒç½®**è´Ÿè½½å‡è¡¡å™¨**ï¼Œé€‰æ‹©æ°å½“çš„å‡è¡¡ç®—æ³•æ¥åˆ†æµï¼›
> - å¦‚æœéœ€è¦è§£å†³**ä¼ è¾“å®‰å…¨**é—®é¢˜ï¼Œé€šå¸¸ä¼šå¸ƒç½® **TLS ä¼ è¾“é“¾è·¯**ï¼Œé…ç½®å¥½ CA è¯ä¹¦ä»¥ä¿è¯é€šä¿¡ä¸è¢«çªƒå¬ç¯¡æ”¹ï¼›
> - å¦‚æœéœ€è¦è§£å†³**æœåŠ¡å‘ç°**é—®é¢˜ï¼Œé€šå¸¸ä¼šè®¾ç½® **DNS æœåŠ¡å™¨**ï¼Œè®©æœåŠ¡è®¿é—®ä¾èµ–ç¨³å®šçš„è®°å½•åè€Œä¸æ˜¯æ˜“å˜çš„ IP åœ°å€ã€‚
>
> è½¯ä»¶å±‚é¢çš„è§£å†³æ–¹æ¡ˆï¼š
>
> |          |       Kubernetes        |     Spring Cloud      |
> | :------: | :---------------------: | :-------------------: |
> | å¼¹æ€§ä¼¸ç¼© |       Autoscaling       |          N/A          |
> | æœåŠ¡å‘ç° |    KubeDNS / CoreDNS    |  Spring Cloud Eureka  |
> | é…ç½®ä¸­å¿ƒ |   ConfigMap / Secret    |  Spring Cloud Config  |
> | æœåŠ¡ç½‘å…³ |   Ingress Controller    |   Spring Cloud Zuul   |
> | è´Ÿè½½å‡è¡¡ |      Load Balancer      |  Spring Cloud Ribbon  |
> | æœåŠ¡å®‰å…¨ |        RBAC API         | Spring Cloud Security |
> | è·Ÿè¸ªç›‘æ§ | Metrics API / Dashboard | Spring Cloud Turbine  |
> | é™çº§ç†”æ–­ |           N/A           | Spring Cloud Hystrix  |
>
> 

> [!caution]
>
> `å‡¤å‡°æ¶æ„`
>
> *ä½œä¸ºä¸€ä¸ªæ™®é€šçš„æœåŠ¡å¼€å‘è€…ï¼Œä½œä¸ºä¸€ä¸ªâ€œèºä¸é’‰â€å¼çš„ç¨‹åºå‘˜ï¼Œå¾®æœåŠ¡æ¶æ„æ˜¯å‹å–„çš„ã€‚å¯æ˜¯ï¼Œå¾®æœåŠ¡å¯¹æ¶æ„è€…æ˜¯æ»¡æ»¡çš„æ¶æ„ï¼Œå¯¹æ¶æ„èƒ½åŠ›è¦æ±‚å·²æå‡åˆ°å²æ— å‰ä¾‹çš„ç¨‹åº¦ï¼Œç¬”è€…åœ¨è¿™éƒ¨æ–‡æ¡£çš„å¤šå¤„åå¤å¼ºè°ƒè¿‡ï¼ŒæŠ€æœ¯æ¶æ„è€…çš„ç¬¬ä¸€èŒè´£å°±æ˜¯åšå†³ç­–æƒè¡¡ï¼Œæœ‰åˆ©æœ‰å¼Šæ‰éœ€è¦å†³ç­–ï¼Œæœ‰å–æœ‰èˆæ‰éœ€è¦æƒè¡¡ï¼Œå¦‚æœæ¶æ„è€…æœ¬èº«çš„çŸ¥è¯†é¢ä¸è¶³ä»¥è¦†ç›–æ‰€éœ€è¦å†³ç­–çš„å†…å®¹ï¼Œä¸æ¸…æ¥šå…¶ä¸­åˆ©å¼Šï¼Œææ€•ä¹Ÿå°±æ— å¯é¿å…åœ°é™·å…¥é€‰æ‹©å›°éš¾ç—‡çš„å›°å¢ƒä¹‹ä¸­ã€‚*
>
> *SOA åœ¨ 21 ä¸–çºªæœ€åˆçš„åå¹´é‡Œæ›¾ç»ç››è¡Œä¸€æ—¶ï¼Œæœ‰ IBM ç­‰ä¸€ä¼—è¡Œä¸šå·¨å¤´å‚å•†ä¸ºå…¶å‘å–Šå†²é”‹ï¼Œå¸å¼•äº†ä¸å°‘è½¯ä»¶å¼€å‘å•†ã€å°¤å…¶æ˜¯ä¼ä¸šçº§è½¯ä»¶çš„å¼€å‘å•†çš„è·Ÿéšï¼Œæœ€ç»ˆå´è¿˜æ˜¯åƒæ——æ¯é¼“ï¼Œæ²‰å¯‚äº†ä¸‹å»ã€‚åœ¨ç¨åçš„[è¿œç¨‹æœåŠ¡è°ƒç”¨](https://icyfenix.cn/architect-perspective/general-architecture/api-style/rpc.html)ä¸€èŠ‚ï¼Œç¬”è€…ä¼šæåˆ° SOAP åè®®è¢«é€æ¸è¾¹ç¼˜åŒ–çš„æœ¬è´¨åŸå› ï¼šè¿‡äºä¸¥æ ¼çš„è§„èŒƒå®šä¹‰å¸¦æ¥è¿‡åº¦çš„å¤æ‚æ€§ã€‚è€Œæ„å»ºåœ¨ SOAP åŸºç¡€ä¹‹ä¸Šçš„ ESBã€BPMã€SCAã€SDO ç­‰è¯¸å¤šä¸Šå±‚å»ºç­‘ï¼Œè¿›ä¸€æ­¥åŠ å‰§äº†è¿™ç§å¤æ‚æ€§ã€‚å¼€å‘ä¿¡æ¯ç³»ç»Ÿæ¯•ç«Ÿä¸æ˜¯ä½œå…«è‚¡æ–‡ç« ï¼Œè¿‡äºç²¾å¯†çš„æµç¨‹å’Œç†è®ºä¹Ÿéœ€è¦æ‡‚å¾—å¤æ‚æ¦‚å¿µçš„ä¸“ä¸šäººå‘˜æ‰èƒ½å¤Ÿé©¾é©­ã€‚SOA è¯ç”Ÿçš„é‚£ä¸€å¤©èµ·ï¼Œå°±å·²ç»æ³¨å®šäº†å®ƒåªèƒ½æ˜¯å°‘æ•°ç³»ç»Ÿé˜³æ˜¥ç™½é›ªå¼çš„ç²¾è‡´å¥¢ä¾ˆå“ï¼Œå®ƒå¯ä»¥å®ç°å¤šä¸ªå¼‚æ„å¤§å‹ç³»ç»Ÿä¹‹é—´çš„å¤æ‚é›†æˆäº¤äº’ï¼Œå´å¾ˆéš¾ä½œä¸ºä¸€ç§å…·æœ‰å¹¿æ³›æ™®é€‚æ€§çš„è½¯ä»¶æ¶æ„é£æ ¼æ¥æ¨å¹¿ã€‚SOA æœ€ç»ˆæ²¡æœ‰è·å¾—æˆåŠŸçš„è‡´å‘½ä¼¤ä¸å½“å¹´çš„[EJB](https://zh.wikipedia.org/wiki/EJB)å¦‚å‡ºä¸€è¾™ï¼Œå°½ç®¡æœ‰ Sun Microsystems å’Œ IBM ç­‰ä¸€ä¼—å·¨å¤´åœ¨èƒŒååŠ›æŒºï¼ŒEJB ä»ç„¶è´¥äºä»¥ Springã€Hibernate ä¸ºä»£è¡¨çš„â€œè‰æ ¹æ¡†æ¶â€ï¼Œå¯è§ä¸€æ—¦è„±ç¦»äººæ°‘ç¾¤ä¼—ï¼Œç»ˆç©¶ä¼šæ·¹æ²¡åœ¨ç¾¤ä¼—çš„æµ·æ´‹ä¹‹ä¸­ï¼Œè¿ä¿¡æ¯æŠ€æœ¯ä¹Ÿä¸æ›¾ä¾‹å¤–è¿‡ã€‚*

> [!info]
>
> æ¶æ„æ¼”è¿›ï¼š
>
> - åŸå§‹åˆ†å¸ƒå¼æ—¶ä»£
> - å•ä½“ç³»ç»Ÿæ—¶ä»£
> - SOA æ—¶ä»£
>   - çƒŸå›±å¼æ¶æ„
>   - å¾®å†…æ ¸æ¶æ„ï¼ˆåˆç§°ï¼šæ’ä»¶å¼æ¶æ„ï¼‰
>   - äº‹ä»¶é©±åŠ¨æ¶æ„
> - å¾®æœåŠ¡æ—¶ä»£
> - åå¾®æœæ—¶ä»£
>   - åŸºäº Spring Cloud çš„å¾®æœåŠ¡æ¶æ„
>   - åŸºäº Kubernetes çš„å¾®æœåŠ¡æ¶æ„
>   - æœåŠ¡ç½‘æ ¼ï¼ˆService Meshï¼‰ çš„è¾¹è½¦ä»£ç†æ¨¡å¼ï¼ˆSidecar Proxyï¼‰
> - æ— æœåŠ¡æ—¶ä»£

> [!info]
>
> åˆ†å±‚æ¶æ„åœ¨è½¯ä»¶é¢†åŸŸæ— å¤„ä¸åœ¨ï¼
>
> *åˆ†å±‚æ¶æ„ï¼ˆLayered Architectureï¼‰å·²æ˜¯ç°åœ¨å‡ ä¹æ‰€æœ‰ä¿¡æ¯ç³»ç»Ÿå»ºè®¾ä¸­éƒ½æ™®éè®¤å¯ã€é‡‡ç”¨çš„è½¯ä»¶è®¾è®¡æ–¹æ³•ï¼Œæ— è®ºæ˜¯å•ä½“è¿˜æ˜¯å¾®æœåŠ¡ï¼ŒæŠ‘æˆ–æ˜¯å…¶ä»–æ¶æ„é£æ ¼ï¼Œéƒ½ä¼šå¯¹ä»£ç è¿›è¡Œçºµå‘å±‚æ¬¡åˆ’åˆ†ï¼Œæ”¶åˆ°çš„å¤–éƒ¨è¯·æ±‚åœ¨å„å±‚ä¹‹é—´ä»¥ä¸åŒå½¢å¼çš„æ•°æ®ç»“æ„è¿›è¡Œæµè½¬ä¼ é€’ï¼Œè§¦åŠæœ€æœ«ç«¯çš„æ•°æ®åº“åæŒ‰ç›¸åçš„é¡ºåºå›é¦ˆå“åº”ï¼Œå¦‚å›¾ 1-1 æ‰€ç¤ºã€‚å¯¹äºè¿™ä¸ªæ„ä¹‰ä¸Šçš„â€œå¯æ‹†åˆ†â€ï¼Œå•ä½“æ¶æ„å®Œå…¨ä¸ä¼šå±•éœ²å‡ºä¸æ¯«çš„å¼±åŠ¿ï¼Œåè€Œå¯èƒ½ä¼šå› æ›´å®¹æ˜“å¼€å‘ã€éƒ¨ç½²ã€æµ‹è¯•è€Œè·å¾—ä¸€äº›ä¾¿æ·æ€§ä¸Šçš„å¥½å¤„ã€‚*
>
> *![å›¾1-1 åˆ†å±‚æ¶æ„ç¤ºæ„](https://cdn.jsdelivr.net/gh/zhengzhenning/imageBeds@main/images/layed-arch.8e054a47.png)*
>
> 

> [!important]
>
> `å‡¤å‡°æ¶æ„`
>
> UNIX  åˆ†å¸ƒå¼è®¾è®¡å“²å­¦ï¼šä¿æŒæ¥å£ä¸å®ç°çš„ç®€å•æ€§ï¼Œæ¯”ç³»ç»Ÿçš„ä»»ä½•å…¶ä»–å±æ€§ï¼ŒåŒ…æ‹¬å‡†ç¡®æ€§ã€ä¸€è‡´æ€§å’Œå®Œæ•´æ€§ï¼Œéƒ½æ¥å¾—æ›´åŠ é‡è¦ã€‚

> [!tip]
>
> `SpringBoot` `Nacos`
>
> é€šè¿‡ Naocs å‘ç°ä¸­å¿ƒçš„å‘½åç©ºé—´ `namespace` å’Œ åˆ†ç»„ `group` å‚æ•°å¯¹æœåŠ¡å®ä¾‹è¿›è¡Œç¯å¢ƒéš”ç¦»ï¼Œè¿™ç§é…ç½®çš„è®¾ç½®å¯¹æ¥å£è°ƒè¯•éå¸¸æœ‰å¸®åŠ©ã€‚
>
> åŸºäº IDEA å¯ä»¥é€šè¿‡å¯åŠ¨å‚æ•°è¿›è¡Œç»Ÿä¸€é…ç½®ï¼š
>
> ```
> spring.cloud.nacos.discovery.namespace=zzn;spring.profiles.active=dev;spring.cloud.nacos.discovery.group=zzn
> ```
>
> ![IDEA-SpringBootå¯åŠ¨å‚æ•°é…ç½®](https://cdn.jsdelivr.net/gh/zhengzhenning/imageBeds@main/images/image-20241212170254171.png)

> [!important]
>
> åœ¨å¾®æœåŠ¡ç¯å¢ƒä¸­å¿…ç„¶ä¼šé¢ä¸´çš„**æœåŠ¡å‘ç°**ã€**è¿œç¨‹è°ƒç”¨**ã€**è´Ÿè½½å‡è¡¡**ã€**é›†ä¸­é…ç½®**ç­‰éåŠŸèƒ½æ€§çš„éœ€æ±‚ã€‚

> [!note]
>
> `å‡¤å‡°æ¶æ„`
>
> å°ä¹¦åº— Fenix's Bookstore çš„æ¶æ„æ¼”è¿›ï¼š
> å•ä½“æ¶æ„ï¼š
>
> ![ddd-arch](https://cdn.jsdelivr.net/gh/zhengzhenning/imageBeds@main/images/ddd-arch.png)
>
> åŸºäº Spring Cloud çš„å¾®æœåŠ¡æ¶æ„ï¼š
>
> - ä¼˜åŠ¿ï¼šè§£å†³æ‰©å®¹ç¼©å®¹ã€ç‹¬ç«‹éƒ¨ç½²ã€è¿ç»´å’Œç®¡ç†ç­‰é—®é¢˜
> - åŠ£åŠ¿ï¼šå¯¹äºå›¢é˜Ÿçš„å¼€å‘äººå‘˜ã€è®¾è®¡äººå‘˜ã€æ¶æ„äººå‘˜æ¥è¯´ï¼Œå¹¶æ²¡æœ‰æ„Ÿè§‰åˆ°å·¥ä½œå˜å¾—è½»æ¾ï¼Œå¾®æœåŠ¡ä¸­çš„å„ç§æ–°æŠ€æœ¯åè¯ï¼Œå¦‚é…ç½®ä¸­å¿ƒã€æœåŠ¡å‘ç°ã€ç½‘å…³ã€ç†”æ–­ã€è´Ÿè½½å‡è¡¡ç­‰ç­‰ï¼Œå°±å¤Ÿä¸€åæ–°æ‰‹å­¦ä¹ å¥½é•¿ä¸€æ®µæ—¶é—´ï¼›ä»äº§å“è§’åº¦æ¥çœ‹ï¼Œå„ç§ Spring Cloud çš„æŠ€æœ¯å¥—ä»¶ï¼Œå¦‚ Configã€Eurekaã€Zuulã€Hystrixã€Ribbonã€Feign ç­‰ï¼Œä¹Ÿå æ®äº†äº§å“çš„å¤§éƒ¨åˆ†ç¼–è¯‘åçš„ä»£ç å®¹é‡ã€‚
>
> ![springcloud-ms](https://cdn.jsdelivr.net/gh/zhengzhenning/imageBeds@main/images/springcloud-ms.png)
>
> åŸºäº Kubernetes çš„å¾®æœåŠ¡æ¶æ„ï¼š
>
> - ä¼˜åŠ¿ï¼š*å……åˆ†äº«å—è™šæ‹ŸåŒ–æŠ€æœ¯å‘å±•çº¢åˆ©ï¼Œåº”ç”¨å¯ä»¥çµæ´»åœ°æ‰©å®¹ã€ç¼©å®¹ï¼Œä¸å†ç•æƒ§å•ä¸ªæœåŠ¡çš„å´©æºƒæ¶ˆäº¡ã€‚*
> - åŠ£åŠ¿ï¼š*å…‰é ç€ Kubernetes æœ¬èº«çš„è™šæ‹ŸåŒ–åŸºç¡€è®¾æ–½ï¼Œéš¾ä»¥åšåˆ°ç²¾ç»†åŒ–çš„æœåŠ¡æ²»ç†ï¼Œè­¬å¦‚ç†”æ–­ã€æµæ§ã€è§‚æµ‹ï¼Œç­‰ç­‰ï¼›è€Œå³ä½¿æ˜¯é‚£äº›å®ƒå¯ä»¥æä¾›æ”¯æŒçš„åˆ†å¸ƒå¼èƒ½åŠ›ï¼Œè­¬å¦‚é€šè¿‡ DNS ä¸æœåŠ¡æ¥å®ç°çš„æœåŠ¡å‘ç°ä¸è´Ÿè½½å‡è¡¡ï¼Œä¹Ÿåªèƒ½è¯´æ˜¯åˆæ­¥è§£å†³äº†çš„åˆ†å¸ƒå¼ä¸­å¦‚ä½•è°ƒç”¨æœåŠ¡çš„é—®é¢˜è€Œå·²ï¼Œåªé  DNS éš¾ä»¥æ»¡è¶³æ ¹æ®ä¸åŒçš„é…ç½®è§„åˆ™ã€åè®®å±‚æ¬¡ã€å‡è¡¡ç®—æ³•ç­‰å»è°ƒèŠ‚è´Ÿè½½å‡è¡¡çš„æ‰§è¡Œè¿‡ç¨‹è¿™ç±»é«˜çº§çš„é…ç½®éœ€æ±‚ã€‚Kubernetes æä¾›çš„è™šæ‹ŸåŒ–åŸºç¡€è®¾æ–½æ˜¯æˆ‘ä»¬å°è¯•ä»åº”ç”¨ä¸­å‰¥ç¦»åˆ†å¸ƒå¼æŠ€æœ¯ä»£ç è¸å‡ºçš„ç¬¬ä¸€æ­¥ï¼Œä½†åªä»å¾®æœåŠ¡çš„çµæ´»ä¸å¯æ§è¿™ä¸€ç‚¹è€Œè¨€ï¼ŒåŸºäº Kubernetes å®ç°çš„ç‰ˆæœ¬å…¶å®æ¯”ä¸Šä¸€ä¸ª Spring Cloud ç‰ˆæœ¬é‡Œç”¨ä»£ç å®ç°çš„æ•ˆæœï¼ˆåŠŸèƒ½å¼ºå¤§ã€çµæ´»ç¨‹åº¦ï¼‰æ˜¯æœ‰æ‰€å€’é€€çš„ï¼Œè¿™ä¹Ÿæ˜¯å½“æ—¶æˆ‘ä»¬æœªæ”¾å¼ƒ Hystrixã€Spring Security OAuth 2 ç­‰ç»„ä»¶çš„åŸå› ã€‚*
>
> ![kubernetes-ms](https://cdn.jsdelivr.net/gh/zhengzhenning/imageBeds@main/images/kubernetes-ms.png)
>
> åŸºäº Istio çš„æœåŠ¡ç½‘æ ¼æ¶æ„ï¼š
>
> - ä¼˜åŠ¿ï¼šæŠŠâ€œé€‰æ‹©ä»€ä¹ˆé€šä¿¡åè®®â€ã€â€œæ€æ ·è°ƒåº¦æµé‡â€ã€â€œå¦‚ä½•è®¤è¯æˆæƒâ€ä¹‹ç±»çš„æŠ€æœ¯é—®é¢˜éš”ç¦»äºç¨‹åºä»£ç ä¹‹å¤–ï¼Œå–ä»£ä»Šå¤© Spring Cloud å…¨å®¶æ¡¶ä¸­å¤§éƒ¨åˆ†ç»„ä»¶çš„åŠŸèƒ½ï¼Œå¾®æœåŠ¡åªéœ€è¦è€ƒè™‘ä¸šåŠ¡æœ¬èº«çš„é€»è¾‘ï¼Œè¿™æ‰æ˜¯æœ€ç†æƒ³çš„[Smart Endpoints](https://martinfowler.com/articles/microservices.html#SmartEndpointsAndDumbPipes)è§£å†³æ–¹æ¡ˆã€‚
> - åŠ£åŠ¿ï¼šåœ¨ 2018 å¹´æ‰ç«èµ·æ¥ï¼Œä»Šå¤©å®ƒä»ç„¶æ˜¯ä¸ªæ–°æ½®çš„æ¦‚å¿µï¼Œä»ç„¶æœªå®Œå…¨æˆç†Ÿã€‚
>
> ![istio-ms](https://cdn.jsdelivr.net/gh/zhengzhenning/imageBeds@main/images/istio-ms.png)
>
> 
>
> 
>
> 

> [!note]
>
> `k6`
>
> æ¥å£å‹æµ‹å¯¹æ¯”ç»“è®ºï¼šæœ‰å¤šçº§ç¼“å­˜çš„å“åº”é€Ÿåº¦æ˜¯æ— å¤šçº§ç¼“å­˜çš„ 6 å€å·¦å³ï¼Œå³å“åº”é€Ÿåº¦æ›´å¿«ï¼Œå› æ­¤åœ¨é«˜å¹¶å‘åœºæ™¯ä¸‹ï¼Œå¤šçº§ç¼“å­˜ç­–ç•¥æ˜¯å¿…è¦çš„ã€‚
>
> ![k6-Grafna](https://cdn.jsdelivr.net/gh/zhengzhenning/imageBeds@main/images/image-20241210162357614.png)
>
> å¯¹åº”ç¤ºä¾‹ä»£ç ï¼š
>
> ```java
> 		// æœ‰å¤šçº§ç¼“å­˜ç­–ç•¥
>  public List<FirepowerInfoDO> listAllByMultiLevelCache() {
>      List<FirepowerInfoDO> items = Lists.newArrayList();
>      long start = System.currentTimeMillis();
> 
>      items = LocalCache.get(LOCAL_CACHE_KEY);
>      if (CollectionUtil.isNotEmpty(items)) {
>          log.info(LOG + "æœ¬åœ°ç¼“å­˜å–æ•°ï¼Œè€—æ—¶:{}(ms)", System.currentTimeMillis() - start);
>          return items;
>      }
> 
>      if (redisTemplate.hasKey(REDIS_CACHE_KEY)) {
>          String giftCache = (String) redisTemplate.opsForValue().get(REDIS_CACHE_KEY);
>          items = JSON.parseArray(giftCache, FirepowerInfoDO.class);
>          log.info(LOG + "Redisç¼“å­˜å–æ•°ï¼Œè€—æ—¶:{}(ms)", System.currentTimeMillis() - start);
>          LocalCache.put(LOCAL_CACHE_KEY, items);
>          return items;
>      }
>      items = this.list();
>      sync2MultiLevelCache("è·å–ç«åŠ›å€¼ä¿¡æ¯åˆ—è¡¨ï¼ˆå¤šçº§ç¼“å­˜ï¼‰", items);
>      log.info(LOG + "æ•°æ®åº“å–æ•°ï¼Œè€—æ—¶ï¼š{}(ms)", System.currentTimeMillis() - start);
>      return items;
>  }
> ```
>
> ```java
> 		// æ— å¤šçº§ç¼“å­˜ç­–ç•¥
>  public List<FirepowerInfoDO> listAll() {
>      return this.list();
>  }
> ```



> [!info] 
>
> `å¹¶å‘`
>
> å¹¶å‘ç›¸å…³æœ¯è¯­ï¼šçº¿ç¨‹ã€è¿›ç¨‹ã€å¤šçº¿ç¨‹ã€å¹¶å‘ä¸å¹¶è¡Œã€åŒæ­¥ä¸å¼‚æ­¥ã€æ­»é”ã€è™šæ‹Ÿçº¿ç¨‹ï¼ˆJDK21ï¼‰ã€JAVAå†…å­˜æ¨¡å‹ï¼ˆJMMï¼‰ã€volatileå…³é”®å­—ã€ä¹è§‚é”ä¸æ‚²è§‚é”ã€CASç®—æ³•ã€synchronizedå…³é”®å­—ã€å…¬å¹³é”ä¸éå…¬å¹³é”ã€å…±äº«é”ä¸ç‹¬å é”ã€ThreadLocalç±»ã€çº¿ç¨‹æ± ï¼ˆæ± åŒ–æŠ€æœ¯ï¼‰ã€Futureã€æŠ½è±¡é˜Ÿåˆ—åŒæ­¥å™¨AQSï¼ˆAbstractQueuedSynchronizerï¼‰ã€è™šæ‹Ÿçº¿ç¨‹ã€Executor ä¸ ThreadPoolExecutorã€‚

> [!important]
>
>  `Java` `String` `æœ€ä½³å®è·µ`
>
> **String å®è·µåŸåˆ™**
>
> Stringã€StringBuilderã€StringBuffer åœ¨æ—¥å¸¸å¼€å‘ä¸­å±äºé«˜é¢‘ä½¿ç”¨çš„ç±»ï¼Œå…·ä½“ç”¨å“ªä¸ªï¼Œè¦éµå®ˆä»¥ä¸‹åŸåˆ™ï¼š
>
> åŸåˆ™1ï¼šæ“ä½œå°‘é‡çš„æ•°æ®: é€‚ç”¨ `String`
>
> åŸåˆ™2ï¼š**å•çº¿ç¨‹**æ“ä½œå­—ç¬¦ä¸²ç¼“å†²åŒºä¸‹æ“ä½œå¤§é‡æ•°æ®: é€‚ç”¨ `StringBuilder` 
>
> åŸåˆ™3ï¼š**å¤šçº¿ç¨‹**æ“ä½œå­—ç¬¦ä¸²ç¼“å†²åŒºä¸‹æ“ä½œå¤§é‡æ•°æ®: é€‚ç”¨ `StringBuffer`
>
> **ç®€è¨€ä¹‹ï¼šä¸€çœ‹æ•°æ®é‡ã€äºŒçœ‹çº¿ç¨‹æ•°**

> [!info]
>
> `SpringBoot 2.3.4.RELEASE`  `RabbitMQ 3.12.14` `Erlang 25.3.2.13`
>
> å®ç°è‡ªåŠ¨æäº¤ï¼ˆACKï¼‰+æœ‰é™æ¬¡é‡è¯•+æ­»ä¿¡é˜Ÿåˆ—å­˜å‚¨æ¶ˆè´¹å¤±è´¥æ¶ˆæ¯ï¼Œæ€è·¯ï¼š
>
> 1. `yml` é…ç½®æ–‡ä»¶é…ç½® rabbitmq å±æ€§ã€æ­»ä¿¡ç›¸å…³çš„è·¯ç”±é”®ã€äº¤æ¢åŒºä»¥åŠé˜Ÿåˆ—
> 2. åŸºäº JavaConfig ç±»çš„é…ç½®ï¼ˆå¦‚ï¼šRabbitGiftConsumptionConfig.javaï¼‰ï¼Œéœ€é…ç½®é‡è¯•ç­–ç•¥
> 3. åŸºäº JavaConfig ç±»çš„é…ç½®ï¼ˆå¦‚ï¼šRabbitGiftConsumptionConfig.javaï¼‰ï¼Œéœ€åœ¨ @RabbitListener#containerFactory å£°æ˜ä¸­æŒ‡å®šè‡ªå®šä¹‰é…ç½®ç±»
> 4. ç¼–å†™ä¸šåŠ¡é˜Ÿåˆ—ç›‘å¬æ–¹æ³•ï¼Œå¦‚ï¼šGiftPresentConsumptionListener#
> 5. ç¼–å†™æ­»ä¿¡é˜Ÿåˆ—ç›‘å¬æ–¹æ³•
> 6. æµç¨‹éªŒè¯
>
> ç¤ºä¾‹ä»£ç ï¼š
>
> # ä¸€ã€é…ç½®æ–‡ä»¶
>
> ```yml
> spring:
>   # rabbitmq
>   rabbitmq:
>     host: ***********
>     port: 5672
>     username: dreamer
>     password: dreamer
>     virtual-host: /dreamer
>     # ç”Ÿäº§è€… ==> EXCHANGE ç¡®è®¤æ–¹å¼
>     publisher-confirm-type: correlated
>     # EXCHANGE ===> QUEUE è¿”å›ç±»å‹
>     publisher-returns: true
>     listener:
>       simple:
>         # è‡ªåŠ¨ç¡®è®¤æ¨¡å¼
>         acknowledge-mode: auto
>         # å†³å®šç”±äºç›‘å¬å™¨æŠ›å‡ºå¼‚å¸¸è€Œæ‹’ç»çš„æ¶ˆæ¯æ˜¯å¦è¢«é‡æ–°æ”¾å›é˜Ÿåˆ—ã€‚é»˜è®¤å€¼ä¸º trueï¼Œé‡æ–°æ”¾å›é˜Ÿåˆ—ã€‚è¿™é‡Œè®¾ç½®ä¸º falseï¼Œå¦‚æœå¤šæ¬¡é‡è¯•è¿˜æ˜¯å¼‚å¸¸å°±è½¬å‘åˆ°æ­»ä¿¡é˜Ÿåˆ—
>         default-requeue-rejected: false
>         # é…ç½®é‡è¯•
>         retry:
>           # å¼€å¯é‡è¯•
>           enabled: true
>           # æ¶ˆæ¯æœ€å¤šé‡è¯•5æ¬¡
>           max-attempts: 5   
>           # æ¶ˆæ¯å¤šæ¬¡æ¶ˆè´¹çš„é—´éš”2ç§’
>           initial-interval: 2000    
>           # æœ€å¤§å…è®¸é‡è¯•æ—¶é—´
>           max-interval: 30000
>           # ä¸‹ä¸€æ¬¡é‡è¯•çš„æ—¶é—´é—´éš” = ä¸Šæ¬¡é‡è¯•æ—¶é—´é—´éš” * multiplier
>           multiplier: 2
> ```
>
> # äºŒã€é…ç½®ç±»
>
> ```java
> package com.hnzmr.product.core.config;
> 
> import lombok.Data;
> import lombok.extern.slf4j.Slf4j;
> import org.springframework.amqp.core.*;
> import org.springframework.amqp.rabbit.config.RetryInterceptorBuilder;
> import org.springframework.amqp.rabbit.config.SimpleRabbitListenerContainerFactory;
> import org.springframework.amqp.rabbit.connection.CachingConnectionFactory;
> import org.springframework.amqp.rabbit.retry.RejectAndDontRequeueRecoverer;
> import org.springframework.amqp.support.converter.Jackson2JsonMessageConverter;
> import org.springframework.beans.factory.annotation.Autowired;
> import org.springframework.beans.factory.annotation.Value;
> import org.springframework.context.annotation.Bean;
> import org.springframework.context.annotation.Configuration;
> import org.springframework.retry.interceptor.RetryOperationsInterceptor;
> 
> 
> @Slf4j
> @Data
> @Configuration
> public class RabbitGiftConsumptionConfig {
> 
>     public static final String LOG = "[ç¤¼ç‰©æ‰“èµæ¶ˆè´¹é…ç½®ç±»]";
> 
>     @Value("${product.gift.consumption.routingkey}")
>     private String productGiftConsumptionRoutingkey;
> 
>     @Value("${product.fanout.exchange}")
>     private String productFanoutExchange;
> 
>     @Bean
>     public Exchange giftConsumptionQueueExchange() {
>         return new FanoutExchange(productFanoutExchange);
>     }
> 
>     @Autowired
>     CachingConnectionFactory cachingConnectionFactory;
> 
>     /**
>      * *************************************************
>      * ********** ç¤¼ç‰©æ‰“èµ2.0é˜Ÿåˆ—é…ç½® ********************
>      * *************************************************
>      */
> 
>     /**
>      * Versionï¼šæ‰“èµ2.0
>      * ç¤¼ç‰©èµ é€é˜Ÿåˆ—ï¼ˆä»ç¤¼ç‰©ç•Œé¢é€å‡ºçš„ï¼‰
>      */
>     @Value("${product.gift.consumption.presentQueue}")
>     private String productGiftConsumptionPresentQueue;
>     /**
>      * æœ€å¤§é‡è¯•æ¬¡æ•°
>      */
>     @Value("${spring.rabbitmq.listener.simple.retry.max-attempts}")
>     private Integer retryMaxAttempts;
>     /**
>      * åˆå§‹é‡è¯•æ—¶é—´
>      */
>     @Value("${spring.rabbitmq.listener.simple.retry.initial-interval}")
>     private Integer retryInitialInterval;
>     /**
>      * æœ€å¤§é‡è¯•æ—¶é—´
>      */
>     @Value("${spring.rabbitmq.listener.simple.retry.max-interval}")
>     private Integer retryMaxInterval;
>     /**
>      * é‡è¯•æ—¶é—´å› å­
>      */
>     @Value("${spring.rabbitmq.listener.simple.retry.multiplier}")
>     private Integer retryMultiplier;
>     /**
>      * æ­»ä¿¡äº¤æ¢æœº
>      */
>     public static final String X_DEAD_LETTER_EXCHANGE = "x-dead-letter-exchange";
>     /**
>      * æ­»ä¿¡è·¯ç”±é”®
>      */
>     public static final String X_DEAD_LETTER_ROUTING_KEY = "x-dead-letter-routing-key";
> 
>     @Bean
>     public Queue giftConsumptionPresentQueue() {
>         // ç»‘å®šæ­»ä¿¡é˜Ÿåˆ—
>         return QueueBuilder.durable(productGiftConsumptionPresentQueue)
>                 .withArgument(X_DEAD_LETTER_EXCHANGE, deadLetterExchange)
>                 .withArgument(X_DEAD_LETTER_ROUTING_KEY, deadLetterRoutingKey)
>                 .build();
>     }
> 
>     @Bean
>     public Binding giftConsumptionPresentBinding() {
>         return BindingBuilder.bind(giftConsumptionPresentQueue())
>                 .to(giftConsumptionQueueExchange())
>                 .with(productGiftConsumptionRoutingkey).noargs();
>     }
> 
>     @Bean
>     SimpleRabbitListenerContainerFactory giftPresentConsumerContainerFactory() {
>         SimpleRabbitListenerContainerFactory factory = new SimpleRabbitListenerContainerFactory();
>         factory.setConnectionFactory(cachingConnectionFactory);
>         factory.setAcknowledgeMode(AcknowledgeMode.AUTO);
>         factory.setMessageConverter(new Jackson2JsonMessageConverter());
>         // é…ç½®å¹¶å‘çº¿ç¨‹æ•°
>         factory.setConcurrentConsumers(10);
>         // é…ç½®é‡è¯•ç­–ç•¥
>         factory.setAdviceChain(retryInterceptor());
>         return factory;
>     }
> 
>     @Bean
>     public RetryOperationsInterceptor retryInterceptor() {
>         RetryOperationsInterceptor retryOperationsInterceptor = RetryInterceptorBuilder.stateless()
>                 .maxAttempts(retryMaxAttempts)
>                 .backOffOptions(retryInitialInterval, retryMultiplier, retryMaxInterval)
>                 .recoverer(new RejectAndDontRequeueRecoverer())
>                 .build();
>         log.info(LOG + "é‡è¯•ç­–ç•¥ï¼šmax-attempts=[{}];initial-interval=[{}];max-interval=[{}];multiplier=[{}]"
>                 , retryMaxAttempts, retryInitialInterval, retryMaxInterval, retryMultiplier);
>         return retryOperationsInterceptor;
>     }
> 
> 
>     /**
>      * *************************************************
>      * ********** ç¤¼ç‰©æ‰“èµæ­»ä¿¡é˜Ÿåˆ—é…ç½® ********************
>      * *************************************************
>      */
> 
>     @Value("${app.rabbitmq.exchange.common-dead-letter}")
>     private String deadLetterExchange;
>     @Value("${app.rabbitmq.queue.gift-present-dead-letter}")
>     private String deadLetterQueue;
>     @Value("${app.rabbitmq.routingKey.gift-present-dead-letter}")
>     private String deadLetterRoutingKey;
> 
>     /**
>      * æ­»ä¿¡äº¤æ¢æœº
>      *
>      * @return
>      */
>     @Bean
>     public Exchange deadLetterExchange() {
>         return new DirectExchange(deadLetterExchange);
>     }
> 
>     /**
>      * æ­»ä¿¡é˜Ÿåˆ—
>      *
>      * @return
>      */
>     @Bean
>     public Queue dealLetterQueue() {
>         return new Queue(deadLetterQueue);
>     }
> 
>     /**
>      * æ­»ä¿¡é˜Ÿåˆ—ä¸æ­»ä¿¡äº¤æ¢æœºç»‘å®š
>      *
>      * @return
>      */
>     @Bean
>     public Binding localDealLetterBinding() {
>         return BindingBuilder.bind(dealLetterQueue()).to(deadLetterExchange())
>                 .with(deadLetterRoutingKey).noargs();
>     }
> 
> }
> ```
>
> # ä¸‰ã€ç›‘å¬æ¶ˆè´¹
>
> ```java
> package com.hnzmr.product.core.listener;
> 
> 
> import lombok.extern.slf4j.Slf4j;
> import org.springframework.amqp.core.Message;
> import org.springframework.amqp.rabbit.annotation.RabbitListener;
> import org.springframework.stereotype.Component;
> import org.springframework.transaction.annotation.Transactional;
> 
> /**
>  * @program: dreamer
>  * @description: é€ç¤¼æ¶ˆè´¹ç›‘å¬
>  * @author: zzn
>  * @create: 2024-11-25 14:23
>  **/
> @Slf4j
> @Component
> public class GiftPresentConsumptionListener {
> 
>     @RabbitListener(
>             queues = "#{@rabbitGiftConsumptionConfig.productGiftConsumptionPresentQueue}"
>             , containerFactory = "giftPresentConsumerContainerFactory"
>     )
>     @Transactional(rollbackFor = Exception.class)
>     public void listenPersistQueue(Message msg) throws Exception {
>         // ä¸Šé”
>         // 1. å‚æ•°åˆè§„æ ¡éªŒ
>         // 2. æ•°æ®å¹‚ç­‰æ ¡éªŒ
>         // 3. ä¸šåŠ¡æ•°æ®å¤„ç†
>         // 4. å¤±è´¥å¼‚å¸¸æŠ›å‡ºè§¦å‘é‡è¯•æœºåˆ¶
>         // è§£é”
>         // ...
>     }
> 
> 
>     @RabbitListener(
>             queues = "#{@rabbitGiftConsumptionConfig.deadLetterQueue}"
>     )
>     @Transactional(rollbackFor = Exception.class)
>     public void DeadLetterListener(Message msg) throws Exception {
>         // å¤„ç†æ¶ˆè´¹å¤±è´¥çš„æ¶ˆæ¯....
>     }
> 
> }
> 
> ```
>
> 

> [!info]
>
> `SpringBoot` `RabbitMQ`
>
> [SpringBoot å®Œå…¨æ•´åˆ RabbitMQ + 100% å‘é€æ¶ˆæ¯ + é«˜å¯é æ¶ˆè´¹æ¶ˆæ¯ + æºç è§£æ](https://blog.csdn.net/wo18237095579/article/details/118695366)
>
> é‡‡ç”¨è‡ªåŠ¨ACK+æœ‰é™æ¬¡é‡è¯•+æ¨é€åˆ°æ­»ä¿¡é˜Ÿåˆ—çš„æ–¹å¼å­˜å‚¨æ¶ˆè´¹å¼‚å¸¸çš„æ¶ˆæ¯ã€‚

> [!info]
>
> `ç†è®ºåŸºç¡€` `æ•°æ®åº“` `äº‹åŠ¡`
>
> äº‹åŠ¡ï¼šå¯¹æ•°æ®æŒä¹…åŒ–æ—¶ï¼Œäº‹åŠ¡ä¿éšœäº†æŒä¹…åŒ–æ“ä½œæ»¡è¶³ï¼šâ€œè¦ä¹ˆå…¨éƒ¨æ‰§è¡ŒæˆåŠŸï¼Œè¦ä¹ˆå…¨éƒ¨ä¸æ‰§è¡Œâ€çš„åŸåˆ™ã€‚
>
> å››å¤§ç‰¹æ€§ï¼šA C I D 
>
> - åŸå­æ€§ï¼ˆAï¼‰ï¼šäº‹åŠ¡ä¸å¯å†åˆ†
> - ä¸€è‡´æ€§ï¼ˆCï¼‰ï¼šæ‰§è¡Œäº‹åŠ¡åï¼Œæ•°æ®ä¸€è‡´
> - éš”ç¦»æ€§ï¼ˆIï¼‰ ï¼šäº‹åŠ¡ä¹‹é—´äº’ä¸å¹²æ‰°
> - æŒä¹…æ€§ï¼ˆDï¼‰ï¼šäº‹åŠ¡æäº¤åï¼Œæ•°æ®å³æŒä¹…åŒ–æˆåŠŸ
>
> AIDæ˜¯æ‰‹æ®µï¼ŒCæ˜¯ç›®çš„ï¼Œå³åªæœ‰ä¿è¯äº†äº‹åŠ¡çš„AIDåï¼ŒDæ‰èƒ½å¾—åˆ°ä¿éšœï¼š
>
> ![AID->C](https://cdn.jsdelivr.net/gh/zhengzhenning/imageBeds@main/images/008vxvgGgy1h7r7c3ca63j309r0ab0sw.jpg)

> [!info]
>
> `Docker` `k6` `Grafana` `InfluxDB`
>
> åŸºäº K6 å‹æµ‹æ¥å£æŒºå¥½ç”¨ã€‚
>
> ![Grafanaç•Œé¢](https://cdn.jsdelivr.net/gh/zhengzhenning/imageBeds@main/images/image-20241204140226072.png)

> [!info]
>
> `æ€§èƒ½æµ‹è¯•`
>
> æ€§èƒ½æµ‹è¯•è¡Œä¸šå¸¸ç”¨çš„æ€§èƒ½æŒ‡æ ‡è¡¨ç¤ºæ³•ï¼š
>
>  ![img](https://cdn.jsdelivr.net/gh/zhengzhenning/imageBeds@main/images/533fa609f8607dbd65878fb52ef87183-20241204111554907.jpg)
>
> [æ€ä¹ˆç†è§£TPSã€QPSã€RTã€ååé‡è¿™äº›æ€§èƒ½æŒ‡æ ‡ï¼Ÿ](https://time.geekbang.com/column/article/182772?utm_campaign=geektime_search&utm_content=geektime_search&utm_medium=geektime_search&utm_source=geektime_search&utm_term=geektime_search)
>
> 

> [!info]
>
> `Mac`  `SpringBoot`  `é€šç”¨`
>
> é‡åˆ° Web server failed to start. Port 9703 was already in use.
>
> ![image-20241204105414737](https://cdn.jsdelivr.net/gh/zhengzhenning/imageBeds@main/images/image-20241204105414737.png)
>
> å¯æ‰§è¡Œä»¥ä¸‹å‘½ä»¤æ€æ­»è¿›ç¨‹ï¼š
>
> ```shell
> lsof -i :9703 
> kill -9 <PID>
> ```
>
> å¦‚ï¼š
>
> ![image-20241204105340595](https://cdn.jsdelivr.net/gh/zhengzhenning/imageBeds@main/images/image-20241204105340595.png)
>
> æ‰§è¡Œå®Œåï¼Œé‡å¯ SpringBoot å·¥ç¨‹ã€‚
>
> å…¶ä»–åœºæ™¯ä¸‹çš„ç«¯å£å ç”¨ï¼ŒåŒæ ·é€‚ç”¨ã€‚

> [!info] 
>
> `æ•°æ®åº“ç†è®ºåŸºç¡€` `å¹¶å‘äº‹åŠ¡` `äº‹åŠ¡ä¼ æ’­çº§åˆ«`
>
> å¹¶å‘äº‹åŠ¡ï¼ˆè¶…è¿‡2ä¸ªäº‹åŠ¡æ“ä½œæ•°æ®ï¼‰å¼•èµ·è„è¯»ã€å¹»è¯»ã€ä¸å¯é‡å¤è¯»ã€ä¸¢å¤±æ›´æ–°4ç±»é—®é¢˜ï¼Œè¿™4ç±»é—®é¢˜å¯ä»¥é€šè¿‡è®¾ç½®äº‹åŠ¡ä¼ æ’­çº§åˆ«è§£å†³ï¼Œå…±æœ‰4ç±»çº§åˆ«ï¼Œä»ä½åˆ°é«˜ä¾æ¬¡ä¸ºï¼šè¯»æœªæäº¤ã€è¯»å·²æäº¤ã€å¯é‡å¤è¯»ã€å¯ä¸²è¡ŒåŒ–ï¼Œä»–ä»¬å¯¹æ•°æ®åº“æ€§èƒ½çš„å½±å“å¦‚ä¸‹ï¼š
>
> ![ä¸åŒéš”ç¦»çº§åˆ«å¯¹æ€§èƒ½å½±å“](https://cdn.jsdelivr.net/gh/zhengzhenning/imageBeds@main/images/008vxvgGgy1h8ji4ny6d7j30zc0jc0ux.jpg)
>
> å½“é‡åˆ°äº‹åŠ¡å¹¶å‘é—®é¢˜æ—¶ï¼Œå¯ä»¥å°è¯•ä»ä»¥ä¸‹å‡ æ–¹é¢ç€æ‰‹æ’æŸ¥ï¼š
>
> 1. æ— æ•°æ®ä¸€è‡´æ€§è¦æ±‚
> 2. åªæœ‰æŸ¥è¯¢çš„äº‹åŠ¡
> 3. äº‹åŠ¡ä¸­æœ‰ç»Ÿè®¡æ±‡æ€»
> 4. å†…å®¹ç¹æ‚çš„å¤§å¤±è¯¯
>
> 
>
> [ä¸‰åˆ†é’Ÿå›¾è§£äº‹åŠ¡éš”ç¦»çº§åˆ«ï¼Œçœ‹ä¸€éå°±æ‡‚](https://blog.51cto.com/u_15177525/4161377)
>
> 

> [!warning]
>
> `é«˜å¹¶å‘` `æ•°æ®ä¸€è‡´æ€§` `äº‹åŠ¡ä¼ æ’­` `é”ç²’åº¦è®¾è®¡`
>
> å¹¶å‘åœºæ™¯ä¸‹ï¼Œå‘ç°æ•°æ®åº“å†™å…¥æ•°æ®ä¸ä¸€è‡´æ—¶ï¼Œå¯ä»¥è€ƒè™‘æ˜¯å¦æ˜¯äº‹åŠ¡ä¼ æ’­çº§åˆ«å¼•èµ·çš„ï¼Œæ­¤å¤–å…¶ä»–å¯èƒ½å¼•èµ·æ•°æ®ä¸ä¸€è‡´çš„ï¼š
>
> 1. æœªåŠ é”æˆ–é”è®¾è®¡ä¸åˆç†å¯¼è‡´å¤šçº¿ç¨‹å¹¶å‘ä¿®æ”¹å¯¼è‡´æ•°æ®ä¸ä¸€è‡´



## 11æœˆæ—¥å¿—

> [!info]
>
> `Java` `SpringBoot` 
>
> é€šè¿‡ä»¥ä¸‹ä»£ç å—æ¨¡æ‹Ÿç¨‹åºå¼‚å¸¸åœºæ™¯ï¼š
>
> ```Java
>   // X0% çš„æ¦‚ç‡è¿›å…¥ 1/0
>   if (new Random().nextInt(10) < 9) {
>       log.error(LOG + "å‘½ä¸­å¼‚å¸¸åˆ†æ”¯...");
>       int i = 1 / 0;
>   }
> ```
>
> ```java
>             if (new Random().nextInt(10) < 5) {
>                 throw new InterruptedException("å‘½ä¸­å¼‚å¸¸åˆ†æ”¯ã€‚ã€‚ã€‚InterruptedException");
>             }else if(new Random().nextInt(10) < 5){
>                 throw new RuntimeException("å‘½ä¸­å¼‚å¸¸åˆ†æ”¯ã€‚ã€‚ã€‚InterruptedException");
>             }
> ```
>
> å¼‚å¸¸åœºæ™¯ä¸»è¦ç”¨äºéªŒè¯ä»£ç çš„å¥å£®æ€§ï¼Œå¦‚ï¼šå¼‚å¸¸å›æ»šç­‰ã€‚

> [!info] 
>
> `IntelliJ IDEA`    `SpringBoot`
>
> MyBatisé…ç½®è¾“å‡ºSQL:
>
> ```YML
> mybatis-plus:
>   configuration:
>     log-impl: org.apache.ibatis.logging.stdout.StdOutImpl
> ```
>
> é…åˆ IDEA `MyBatis Log Free` æ’ä»¶æŸ¥çœ‹SQLè¾“å‡º
>
> <img src="https://cdn.jsdelivr.net/gh/zhengzhenning/imageBeds@main/images/image-20241202140815514.png" alt="image-20241202140815514" style="zoom:50%;" />

> [!caution]
>
> `spring-boot-starter-amqp:2.3.4.RELEASE` 
>
>  `RabbitMQ 3.12.14`
>
>   `Erlang 25.3.2.13`
>
> 
>
> rabbitmq æ¶ˆè´¹ç«¯æ¶ˆè´¹å¤±è´¥åï¼Œéœ€è€ƒè™‘é‡è¯•æœºåˆ¶ã€‚
>
> å¼•å…¥é‡è¯•æœºåˆ¶åéœ€è€ƒè™‘æ¶ˆæ¯é‡å¤æ¶ˆè´¹é—®é¢˜ï¼Œç¡®ä¿æ•°æ®å¹‚ç­‰ã€‚
>
> æ­¤å¤–ï¼Œé‡è¯•ç­–ç•¥è¦é€‰å¥½ï¼Œé¿å…çŸ­æ—¶é—´å†…äº§ç”Ÿå¤§é‡é‡è¯•è¯·æ±‚ï¼Œé€ æˆç³»ç»Ÿå‹åŠ›å’Œæ¶ˆæ¯å †ç§¯ï¼Œé‡è¯•åˆ°ä¸€å®šæ¬¡æ•°åä»æœªæˆåŠŸçš„ï¼Œéœ€æŠŠæ¶ˆæ¯æ¨é€åˆ°æ­»ä¿¡é˜Ÿåˆ—åšè¿›ä¸€æ­¥å¤„ç†ã€‚
>
> æ³¨æ„ï¼Œå¯¹äºæ•°æ®ä¸€è‡´æ€§è¦æ±‚é«˜çš„åœºæ™¯ï¼Œå¦‚ï¼šä¸é’±è¢‹å­ğŸ’°ç›¸å…³çš„ï¼Œå»ºè®®ä½¿ç”¨**æ‰‹åŠ¨ACKæ¨¡å¼**ï¼Œç¡®ä¿æ¶ˆæ¯å¤„ç†çš„å‡†ç¡®æ€§ã€‚
>
> - å‚è€ƒ
>
>   - [RabbitMQè§£å†³æ¶ˆè´¹è€…è¡¥å¿å¹‚ç­‰é—®é¢˜(é‡å¤æ¶ˆè´¹é—®é¢˜)](https://blog.csdn.net/belongtocode/article/details/104310152)
>
>   - [RabbitMQçš„æ¶ˆæ¯ç¡®è®¤æœºåˆ¶Ack Mode](https://blog.csdn.net/qq_60638478/article/details/141220718) 
>
>   - [SpringBootæ•´åˆRabbitMQï¼ˆå°å…”å­æˆç¥ä¹‹è·¯ï¼‰](https://blog.csdn.net/AkiraNicky/article/details/89640512)
>
>   - [Spring AMQP](https://docs.spring.io/spring-boot/reference/messaging/amqp.html)


> [!warning]
> Docker æ‹‰å–é•œåƒæ…¢æ—¶ï¼Œéœ€é…ç½®==å¯è®¿é—®==çš„ç¬¬ä¸‰æ–¹é•œåƒï¼Œå¦‚ï¼š
>
> ```json
> {
> "registry-mirrors": [
>  "http://hub-mirror.c.163.com",
>  "https://docker.mirrors.ustc.edu.cn",
>  "https://pee6w651.mirror.aliyuncs.com"
> ]
> }
> ```
> é…ç½®åï¼Œéœ€è¦é‡è½½æ–‡ä»¶ã€é‡å¯DockeræœåŠ¡

> [!tip]
> Docker å¸¸ç”¨é•œåƒçš„å¯åŠ¨å‚æ•°å¾—æ‡‚ï¼Œæ¯”å¦‚å¯åŠ¨ MySQL:
> ```shell
> docker run -d --restart=always --name mysql \
> -v /datas/mysql/data:/var/lib/mysql \
> -v /datas/mysql/conf:/etc/mysql \
> -v /datas/mysql/log:/var/log/mysql \
> -p 3306:3306 \
> -e TZ=Asia/Shanghai \
> -e MYSQL_ROOT_PASSWORD=root \
> mysql:5.6 \
> --character-set-server=utf8mb4 \
> --collation-server=utf8mb4_general_ci
> ```
> 
> ```
> -v /datas/mysql/data:/var/lib/mysqlï¼šå°†æ•°æ®æ–‡ä»¶å¤¹æŒ‚è½½åˆ°ä¸»æœº
> -v /datas/mysql/conf:/etc/mysqlï¼šå°†é…ç½®æ–‡ä»¶å¤¹æŒ‚åœ¨åˆ°ä¸»æœºï¼Œå¯ä»¥åœ¨å®¿ä¸»æœºæ”¾ä¸€ä»½è‡ªå®šä¹‰ my.cnfæ–‡ä»¶ï¼Œé‚£ä¹ˆå®¹å™¨å°±ä¼šæŒ‰è‡ªå®šä¹‰é…ç½®å¯åŠ¨
> -v /datas/mysql/log:/var/log/mysqlï¼šå°†æ—¥å¿—æ–‡ä»¶å¤¹æŒ‚è½½åˆ°ä¸»æœº
> -p 3306:3306ï¼šå°†å®¹å™¨çš„3306ç«¯å£æ˜ å°„åˆ°ä¸»æœºçš„3306ç«¯å£
> -e MYSQL_ROOT_PASSWORD=rootï¼šåˆå§‹åŒ–rootç”¨æˆ·çš„å¯†ç 
> --character-set-server=utf8mb4ï¼šè®¾ç½®å­—ç¬¦é›†
> --collation-server=utf8mb4_general_ciï¼šæ’åºæ–¹å¼
> ```

> [!tip]
> å¯ä»¥åœ¨ Win/Mac ä¸‹åŒæ—¶é…ç½® Githubã€Giteeï¼Œä¹Ÿå¯ä»¥ä¸€ä¸ªé¡¹ç›®ç®¡ç†åŒæ—¶å…³è”Giteeã€Githubåº“


## 10æœˆæ—¥å¿—

> [!caution]
>
> `ç›‘æ§å‘Šè­¦å¹³å°` `ä¸å¥½ç”¨`  
>
> [CAT](https://github.com/dianping/cat/) æ˜¯åŸºäº Java å¼€å‘çš„å®æ—¶åº”ç”¨ç›‘æ§å¹³å°ï¼Œä¸ºç¾å›¢ç‚¹è¯„æä¾›äº†å…¨é¢çš„å®æ—¶ç›‘æ§å‘Šè­¦æœåŠ¡ã€‚
>
> CAT æˆåŠŸéƒ¨ç½²å¹¶è®¿é—®ï¼Œç¯å¢ƒå¦‚ä¸‹ï¼š
>
> - è™šæ‹Ÿæœº Linux Centos8
>
> ```
> [root@localhost cat]# uname -a
> Linux localhost.localdomain 4.18.0-348.7.1.el8_5.x86_64 #1 SMP Wed Dec 22 13:25:12 UTC 2021 x86_64 x86_64 x86_64 GNU/Linux
> ```
>
> - JAVA8
>
> ```
> [root@localhost cat]# java -version
> java version "1.8.0_431"
> Java(TM) SE Runtime Environment (build 1.8.0_431-b10)
> Java HotSpot(TM) Server VM (build 25.431-b10, mixed mode)
> ```
>
> - Tomcat7
>
> ```
> [root@localhost tomcat]# ls
> apache-tomcat-7.0.99.tar.gz   tomcat7
> ```
>
> - Maven3
>
> ```
> [root@localhost tomcat]# mvn -v
> Apache Maven 3.6.3 (cecedd343002696d0abb50b32b541b8a6ba2883f)
> Maven home: /opt/maven/apache-maven-3.6.3
> Java version: 1.8.0_431, vendor: Oracle Corporation, runtime: /usr/java/jdk1.8.0_431/jre
> Default locale: zh_CN, platform encoding: UTF-8
> OS name: "linux", version: "4.18.0-348.7.1.el8_5.x86_64", arch: "i386", family: "unix"
> ```
>
> -  ç¯å¢ƒå‡†å¤‡å®Œæ¯•åï¼Œå°† `cat.war`  æ”¾ç½®åœ¨è¿™ä¸ªè·¯å¾„ä¸‹ï¼š [waråŒ…ä¸‹è½½åœ°å€](https://github.com/dianping/cat/releases/tag/v3.0.0)
>
> ```shell
> [root@localhost webapps]# pwd
> /opt/tomcat/tomcat7/webapps
> [root@localhost webapps]# ls
> cat  cat.war  docs  examples  host-manager  manager  ROOT
> [root@localhost webapps]#
> ```
>
> - å¯åŠ¨ CAT æœåŠ¡ï¼š
>
> ```shell
> -- è¿›å…¥ Tomcat7 bin ç›®å½•
> [root@localhost bin]# pwd
> /opt/tomcat/tomcat7/bin
> -- æ‰§è¡Œ sh catalina.sh
> [root@localhost bin]# sh catalina.sh
> ```
>
> ![ç›‘æ§ç•Œé¢](https://cdn.jsdelivr.net/gh/zhengzhenning/imageBeds@main/images/image-20241204153043961.png)
>
> è®¿é—®é…ç½®ç®¡ç†ç•Œé¢ï¼š
>
> ![é…ç½®ç®¡ç†ç™»å½•é¡µ](https://cdn.jsdelivr.net/gh/zhengzhenning/imageBeds@main/images/image-20241204153127435.png)
>
> ![å®¢æˆ·ç«¯è·¯ç”±é…ç½®ç•Œé¢](https://cdn.jsdelivr.net/gh/zhengzhenning/imageBeds@main/images/image-20241204153146238.png)
>
> ![æœåŠ¡ç«¯é…ç½®ç•Œé¢](https://cdn.jsdelivr.net/gh/zhengzhenning/imageBeds@main/images/image-20241204153218576.png)

import{_ as n}from"./plugin-vue_export-helper-DlAUqK2U.js";import{r as s,o as r,c as g,a as e,b as a,d as i,e as l}from"./app-DdSNBsy6.js";const c={},o={id:"helm",tabindex:"-1"},m={class:"header-anchor",href:"#helm"},p={href:"https://helm.sh/zh/",target:"_blank",rel:"noopener noreferrer"},h=l('<figure><img src="https://tva1.sinaimg.cn/large/008eGmZEgy1gpgrnq4i4bj313z0u0dl6.jpg" alt="image-20210201171914273" tabindex="0" loading="lazy"><figcaption>image-20210201171914273</figcaption></figure><figure><img src="https://tva1.sinaimg.cn/large/008eGmZEgy1gpgrnoxlzlj30rq0ju75f.jpg" alt="Helm 架构图（来自 IBM Developer Blog）" tabindex="0" loading="lazy"><figcaption>Helm 架构图（来自 IBM Developer Blog）</figcaption></figure><figure><img src="https://tva1.sinaimg.cn/large/008i3skNgy1gse42mrhwlj31qw0fk78x.jpg" alt="什么是Helm" tabindex="0" loading="lazy"><figcaption>什么是Helm</figcaption></figure><figure><img src="https://tva1.sinaimg.cn/large/008i3skNgy1gse42iunz8j31la0sk7c9.jpg" alt="helm" tabindex="0" loading="lazy"><figcaption>helm</figcaption></figure><figure><img src="https://tva1.sinaimg.cn/large/008eGmZEgy1gpgrnp6ge9j31t20agtbm.jpg" alt="什么是helm-jessicaCherry" tabindex="0" loading="lazy"><figcaption>什么是helm-jessicaCherry</figcaption></figure><blockquote><p>Helm中的Chart是什么？干什么用？怎么用？</p></blockquote><figure><img src="https://tva1.sinaimg.cn/large/008i3skNgy1gse42kn03lj30v00fuwg2.jpg" alt="Helm有什么用" tabindex="0" loading="lazy"><figcaption>Helm有什么用</figcaption></figure><p>创建可配置化的部署环境。（一键部署的关键）</p><figure><img src="https://tva1.sinaimg.cn/large/008i3skNgy1gse42k24x8j30wg08q40b.jpg" alt="image-20210201172744312" tabindex="0" loading="lazy"><figcaption>image-20210201172744312</figcaption></figure><h1 id="安装helm" tabindex="-1"><a class="header-anchor" href="#安装helm"><span>安装Helm</span></a></h1><figure><img src="https://tva1.sinaimg.cn/large/008i3skNgy1gse42ku9jfj30tu0fk75k.jpg" alt="安装helm的先决条件" tabindex="0" loading="lazy"><figcaption>安装helm的先决条件</figcaption></figure>',11),d={href:"https://minikube.sigs.k8s.io/docs/start/",target:"_blank",rel:"noopener noreferrer"},u=l(`<p>2.启动minikube</p><div class="language-text line-numbers-mode" data-ext="text" data-title="text"><pre class="language-text"><code>minikube start
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><figure><img src="https://tva1.sinaimg.cn/large/008eGmZEgy1gpgrnpoeq8j30v80u0ago.jpg" alt="minikube start" tabindex="0" loading="lazy"><figcaption>minikube start</figcaption></figure><figure><img src="https://tva1.sinaimg.cn/large/008eGmZEgy1gpgrns16ncj31co0tqq74.jpg" alt="vbox minikube" tabindex="0" loading="lazy"><figcaption>vbox minikube</figcaption></figure><p>3.查看kube版本：</p><div class="language-text line-numbers-mode" data-ext="text" data-title="text"><pre class="language-text"><code>kubectl version
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><figure><img src="https://tva1.sinaimg.cn/large/008i3skNgy1gse42lf0v4j31k00ic0zg.jpg" alt="kubectl version" tabindex="0" loading="lazy"><figcaption>kubectl version</figcaption></figure><p>4.查看kube信息</p><div class="language-text line-numbers-mode" data-ext="text" data-title="text"><pre class="language-text"><code>minikube dashboard
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>5.安装第一个集群”hello-minikube“</p>`,10),v={href:"https://blog.csdn.net/qq_43920024/article/details/112734814",target:"_blank",rel:"noopener noreferrer"},f=e("p",null,"6.成功后访问效果：",-1),b=e("figure",null,[e("img",{src:"https://tva1.sinaimg.cn/large/008i3skNgy1gse42jhtdyj31do0u041z.jpg",alt:"启动第一集群",tabindex:"0",loading:"lazy"}),e("figcaption",null,"启动第一集群")],-1),x={href:"https://github.com/helm/helm#install",target:"_blank",rel:"noopener noreferrer"},k=l(`<figure><img src="https://tva1.sinaimg.cn/large/008eGmZEgy1gpgrnskz12j319e086q3s.jpg" alt="helm的使命" tabindex="0" loading="lazy"><figcaption>helm的使命</figcaption></figure><div class="language-text line-numbers-mode" data-ext="text" data-title="text"><pre class="language-text"><code>brew install helm
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>8.创建第一个<code>hellochart</code></p><div class="language-powershell line-numbers-mode" data-ext="powershell" data-title="powershell"><pre class="language-powershell"><code><span class="token comment"># buildachart 是</span>
helm create buildachart 
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div>`,4),j=e("code",null,"hellochart",-1),y={href:"https://helm.sh/zh/docs/topics/chart_repository/",target:"_blank",rel:"noopener noreferrer"},_=l('<ol start="10"><li></li></ol><h1 id="使用helm" tabindex="-1"><a class="header-anchor" href="#使用helm"><span>使用Helm</span></a></h1><h2 id="value-xml" tabindex="-1"><a class="header-anchor" href="#value-xml"><span>value.xml</span></a></h2><blockquote><p><strong>Helm的value.xml 结合 K8s 模板(templates)</strong> ，</p><p>比如：values.xml 与 deployment.yaml相结合。</p></blockquote><p>在value.xml声明k8s的相关配置，再通过{ .Values.valueName } 方式引用，比如：</p><p><code>values.xml</code>：</p><figure><img src="https://tva1.sinaimg.cn/large/008i3skNgy1gsqtwwl9hij30ji08sq36.jpg" alt="image-20210723134138051" tabindex="0" loading="lazy"><figcaption>image-20210723134138051</figcaption></figure><p>K8s模板：<code>deployment.yaml</code>：</p><figure><img src="https://tva1.sinaimg.cn/large/008i3skNgy1gsqtweqwvlj30u60g2gmx.jpg" alt="image-20210723134106818" tabindex="0" loading="lazy"><figcaption>image-20210723134106818</figcaption></figure><h2 id="与子chart共享模板" tabindex="-1"><a class="header-anchor" href="#与子chart共享模板"><span>与子CHART共享模板</span></a></h2><figure><img src="https://tva1.sinaimg.cn/large/008i3skNgy1gse42mbpnyj31k20u0tcs.jpg" alt="image-20210317163225910" tabindex="0" loading="lazy"><figcaption>image-20210317163225910</figcaption></figure><figure><img src="https://tva1.sinaimg.cn/large/008eGmZEgy1gpgrnsxe3rj31or0u0q7o.jpg" alt="父子chart共享模板" tabindex="0" loading="lazy"><figcaption>父子chart共享模板</figcaption></figure><h1 id="管理chart" tabindex="-1"><a class="header-anchor" href="#管理chart"><span>管理Chart</span></a></h1><p>每次发版迭代chart时，都要打包到Chart仓库里。</p><h2 id="helm-create" tabindex="-1"><a class="header-anchor" href="#helm-create"><span>helm create</span></a></h2><h2 id="helm-package" tabindex="-1"><a class="header-anchor" href="#helm-package"><span>helm package *</span></a></h2><h1 id="调试helm" tabindex="-1"><a class="header-anchor" href="#调试helm"><span>调试Helm</span></a></h1>',17),z={id:"helm-template",tabindex:"-1"},q={class:"header-anchor",href:"#helm-template"},H={href:"https://helm.sh/zh/docs/helm/helm_template/",target:"_blank",rel:"noopener noreferrer"},B={id:"helm-test",tabindex:"-1"},E={class:"header-anchor",href:"#helm-test"},N={href:"https://helm.sh/zh/docs/helm/helm_test/",target:"_blank",rel:"noopener noreferrer"},w=l(`<h2 id="helm-lint" tabindex="-1"><a class="header-anchor" href="#helm-lint"><span>helm lint</span></a></h2><p>验证chart是否遵循最佳实践。</p><div class="language-bash line-numbers-mode" data-ext="sh" data-title="sh"><pre class="language-bash"><code><span class="token comment"># 检查chart文件的依赖项和模板配置是否正确</span>
helm linit chartName/
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="helm-install" tabindex="-1"><a class="header-anchor" href="#helm-install"><span>helm install *</span></a></h2><div class="language-bash line-numbers-mode" data-ext="sh" data-title="sh"><pre class="language-bash"><code><span class="token comment"># 检查基于chart的部署是否符合预期</span>
helm <span class="token function">install</span> <span class="token punctuation">[</span>test<span class="token punctuation">]</span> <span class="token punctuation">[</span><span class="token number">2021.4</span>.16/<span class="token punctuation">]</span> <span class="token parameter variable">--debug</span> --dry-run
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-text line-numbers-mode" data-ext="text" data-title="text"><pre class="language-text"><code># 渲染模板
helm template --debug 
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-text line-numbers-mode" data-ext="text" data-title="text"><pre class="language-text"><code>helm template [NAME] [CHART] [flags]
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><div class="language-text line-numbers-mode" data-ext="text" data-title="text"><pre class="language-text"><code># 查看安装在服务器上的模板
helm get manifest
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><h1 id="" tabindex="-1"><a class="header-anchor" href="#"><span></span></a></h1>`,9),G={href:"https://mp.weixin.qq.com/s/RvfGfjTcHn_ocXqwozUs0A",target:"_blank",rel:"noopener noreferrer"},C={href:"https://www.jianshu.com/p/3b419cc7d290",target:"_blank",rel:"noopener noreferrer"},Z={href:"https://cloud.tencent.com/developer/article/1647255",target:"_blank",rel:"noopener noreferrer"},A={href:"https://blog.csdn.net/u010606397/article/details/112062312",target:"_blank",rel:"noopener noreferrer"};function I(M,D){const t=s("ExternalLinkIcon");return r(),g("div",null,[e("h1",o,[e("a",m,[e("span",null,[e("a",p,[a("Helm"),i(t)])])])]),h,e("p",null,[e("a",d,[a("1.安装minikube"),i(t)])]),u,e("p",null,[a("官网镜像不可用，参考"),e("a",v,[a("这个"),i(t)]),a("。")]),f,b,e("p",null,[a("7.安装Helm "),e("a",x,[a("参考"),i(t)])]),k,e("p",null,[a("9.上传"),j,a("到"),e("a",y,[a("chart repo(仓库)"),i(t)])]),_,e("h2",z,[e("a",q,[e("span",null,[e("a",H,[a("helm template"),i(t)])])])]),e("h2",B,[e("a",E,[e("span",null,[e("a",N,[a("helm test"),i(t)])])])]),w,e("p",null,[e("a",G,[a("十分钟，创建一个Helm chart"),i(t)])]),e("p",null,[e("a",C,[a("mac安装minikube"),i(t)])]),e("p",null,[e("a",Z,[a("k8s 部署利器 helm v3 安装及使用指南"),i(t)])]),e("p",null,[e("a",A,[a("自定义chart"),i(t)])])])}const V=n(c,[["render",I],["__file","Helm.html.vue"]]),K=JSON.parse('{"path":"/%E7%BB%84%E4%BB%B6%E7%AC%94%E8%AE%B0/Helm.html","title":"Helm","lang":"zh-CN","frontmatter":{"description":"Helm image-20210201171914273image-20210201171914273 Helm 架构图（来自 IBM Developer Blog）Helm 架构图（来自 IBM Developer Blog） 什么是Helm什么是Helm helmhelm 什么是helm-jessicaCherry什么是helm-jessicaCh...","head":[["meta",{"property":"og:url","content":"https://mister-hope.github.io/%E7%BB%84%E4%BB%B6%E7%AC%94%E8%AE%B0/Helm.html"}],["meta",{"property":"og:site_name","content":"郑振宁的数字资产中心"}],["meta",{"property":"og:title","content":"Helm"}],["meta",{"property":"og:description","content":"Helm image-20210201171914273image-20210201171914273 Helm 架构图（来自 IBM Developer Blog）Helm 架构图（来自 IBM Developer Blog） 什么是Helm什么是Helm helmhelm 什么是helm-jessicaCherry什么是helm-jessicaCh..."}],["meta",{"property":"og:type","content":"article"}],["meta",{"property":"og:image","content":"https://tva1.sinaimg.cn/large/008eGmZEgy1gpgrnq4i4bj313z0u0dl6.jpg"}],["meta",{"property":"og:locale","content":"zh-CN"}],["meta",{"property":"article:author","content":"郑振宁"}],["script",{"type":"application/ld+json"},"{\\"@context\\":\\"https://schema.org\\",\\"@type\\":\\"Article\\",\\"headline\\":\\"Helm\\",\\"image\\":[\\"https://tva1.sinaimg.cn/large/008eGmZEgy1gpgrnq4i4bj313z0u0dl6.jpg\\",\\"https://tva1.sinaimg.cn/large/008eGmZEgy1gpgrnoxlzlj30rq0ju75f.jpg\\",\\"https://tva1.sinaimg.cn/large/008i3skNgy1gse42mrhwlj31qw0fk78x.jpg\\",\\"https://tva1.sinaimg.cn/large/008i3skNgy1gse42iunz8j31la0sk7c9.jpg\\",\\"https://tva1.sinaimg.cn/large/008eGmZEgy1gpgrnp6ge9j31t20agtbm.jpg\\",\\"https://tva1.sinaimg.cn/large/008i3skNgy1gse42kn03lj30v00fuwg2.jpg\\",\\"https://tva1.sinaimg.cn/large/008i3skNgy1gse42k24x8j30wg08q40b.jpg\\",\\"https://tva1.sinaimg.cn/large/008i3skNgy1gse42ku9jfj30tu0fk75k.jpg\\",\\"https://tva1.sinaimg.cn/large/008eGmZEgy1gpgrnpoeq8j30v80u0ago.jpg\\",\\"https://tva1.sinaimg.cn/large/008eGmZEgy1gpgrns16ncj31co0tqq74.jpg\\",\\"https://tva1.sinaimg.cn/large/008i3skNgy1gse42lf0v4j31k00ic0zg.jpg\\",\\"https://tva1.sinaimg.cn/large/008i3skNgy1gse42jhtdyj31do0u041z.jpg\\",\\"https://tva1.sinaimg.cn/large/008eGmZEgy1gpgrnskz12j319e086q3s.jpg\\",\\"https://tva1.sinaimg.cn/large/008i3skNgy1gsqtwwl9hij30ji08sq36.jpg\\",\\"https://tva1.sinaimg.cn/large/008i3skNgy1gsqtweqwvlj30u60g2gmx.jpg\\",\\"https://tva1.sinaimg.cn/large/008i3skNgy1gse42mbpnyj31k20u0tcs.jpg\\",\\"https://tva1.sinaimg.cn/large/008eGmZEgy1gpgrnsxe3rj31or0u0q7o.jpg\\"],\\"dateModified\\":null,\\"author\\":[{\\"@type\\":\\"Person\\",\\"name\\":\\"郑振宁\\",\\"url\\":\\"https://mister-hope.com\\"}]}"]]},"headers":[{"level":2,"title":"value.xml","slug":"value-xml","link":"#value-xml","children":[]},{"level":2,"title":"与子CHART共享模板","slug":"与子chart共享模板","link":"#与子chart共享模板","children":[]},{"level":2,"title":"helm create","slug":"helm-create","link":"#helm-create","children":[]},{"level":2,"title":"helm package *","slug":"helm-package","link":"#helm-package","children":[]},{"level":2,"title":"helm template","slug":"helm-template","link":"#helm-template","children":[]},{"level":2,"title":"helm test","slug":"helm-test","link":"#helm-test","children":[]},{"level":2,"title":"helm lint","slug":"helm-lint","link":"#helm-lint","children":[]},{"level":2,"title":"helm install *","slug":"helm-install","link":"#helm-install","children":[]}],"git":{"createdTime":null,"updatedTime":null,"contributors":[]},"readingTime":{"minutes":1.49,"words":446},"filePathRelative":"组件笔记/Helm.md","excerpt":"\\n<figure><img src=\\"https://tva1.sinaimg.cn/large/008eGmZEgy1gpgrnq4i4bj313z0u0dl6.jpg\\" alt=\\"image-20210201171914273\\" tabindex=\\"0\\" loading=\\"lazy\\"><figcaption>image-20210201171914273</figcaption></figure>\\n<figure><img src=\\"https://tva1.sinaimg.cn/large/008eGmZEgy1gpgrnoxlzlj30rq0ju75f.jpg\\" alt=\\"Helm 架构图（来自 IBM Developer Blog）\\" tabindex=\\"0\\" loading=\\"lazy\\"><figcaption>Helm 架构图（来自 IBM Developer Blog）</figcaption></figure>","autoDesc":true}');export{V as comp,K as data};

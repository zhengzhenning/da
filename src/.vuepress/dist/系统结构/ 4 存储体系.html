<!doctype html>
<html lang="zh-CN" data-theme="light">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <meta name="generator" content="VuePress 2.0.0-rc.18" />
    <meta name="theme" content="VuePress Theme Hope 2.0.0-rc.59" />
    <style>
      :root {
        --vp-c-bg: #fff;
      }

      [data-theme="dark"] {
        --vp-c-bg: #1b1b1f;
      }

      html,
      body {
        background: var(--vp-c-bg);
      }
    </style>
    <script>
      const userMode = localStorage.getItem("vuepress-theme-hope-scheme");
      const systemDarkMode =
        window.matchMedia &&
        window.matchMedia("(prefers-color-scheme: dark)").matches;

      if (userMode === "dark" || (userMode !== "light" && systemDarkMode)) {
        document.documentElement.setAttribute("data-theme", "dark");
      }
    </script>
    <meta property="og:url" content="https://mister-hope.github.io/yibu_zzn/%E7%B3%BB%E7%BB%9F%E7%BB%93%E6%9E%84/%204%20%E5%AD%98%E5%82%A8%E4%BD%93%E7%B3%BB.html"><meta property="og:site_name" content="郑振宁"><meta property="og:title" content="存储体系"><meta property="og:description" content="存储体系 * 华中科技大学-计算机系统结构 存储体系概念 定义、分支、依据 主要指标参数的计算 虚拟存储体系 3 种虚拟管理方式的原理、地址映像规则、影响表机构、地址变换过程、各自优缺点 段页式虚拟存储器中，由虚地址计算实地址；根据映像表内容计算主存实地址；判断段失效、页失效、保护失效 页式虚拟存储器中，虚实地址字段的对应关系、地址映像规则；由虚地址查..."><meta property="og:type" content="article"><meta property="og:image" content="https://cdn.jsdelivr.net/gh/zhengzhenning/imageBeds@main/images/image-20230212201704104.png"><meta property="og:locale" content="zh-CN"><meta property="og:updated_time" content="2024-04-12T02:36:39.000Z"><meta property="article:modified_time" content="2024-04-12T02:36:39.000Z"><script type="application/ld+json">{"@context":"https://schema.org","@type":"Article","headline":"存储体系","image":["https://cdn.jsdelivr.net/gh/zhengzhenning/imageBeds@main/images/image-20230212201704104.png","https://cdn.jsdelivr.net/gh/zhengzhenning/imageBeds@main/images/IMG_9605.jpeg","https://cdn.jsdelivr.net/gh/zhengzhenning/imageBeds@main/images/image-20230212201748375.png","https://cdn.jsdelivr.net/gh/zhengzhenning/imageBeds@main/images/image-20230322220917610.png","https://cdn.jsdelivr.net/gh/zhengzhenning/imageBeds@main/images/image-20230322223013764.png","https://cdn.jsdelivr.net/gh/zhengzhenning/imageBeds@main/images/image-20230216195451765.png","https://cdn.jsdelivr.net/gh/zhengzhenning/imageBeds@main/images/image-20230322221154535.png","https://cdn.jsdelivr.net/gh/zhengzhenning/imageBeds@main/images/image-20230216195611689.png","https://cdn.jsdelivr.net/gh/zhengzhenning/imageBeds@main/images/image-20230216195632666.png","https://cdn.jsdelivr.net/gh/zhengzhenning/imageBeds@main/images/image-20230212123046510.png","https://cdn.jsdelivr.net/gh/zhengzhenning/imageBeds@main/images/image-20230212123323599.png","https://cdn.jsdelivr.net/gh/zhengzhenning/imageBeds@main/images/image-20230212123617425.png","https://cdn.jsdelivr.net/gh/zhengzhenning/imageBeds@main/images/image-20230212121410491.png","https://cdn.jsdelivr.net/gh/zhengzhenning/imageBeds@main/images/image-20230212121439209.png","https://cdn.jsdelivr.net/gh/zhengzhenning/imageBeds@main/images/image-20230212123752183.png","https://cdn.jsdelivr.net/gh/zhengzhenning/imageBeds@main/images/IMG_9424.jpeg","https://cdn.jsdelivr.net/gh/zhengzhenning/imageBeds@main/images/image-20230212124946461.png","https://cdn.jsdelivr.net/gh/zhengzhenning/imageBeds@main/images/image-20230212124935827.png","https://cdn.jsdelivr.net/gh/zhengzhenning/imageBeds@main/images/image-20230212130708243.png","https://cdn.jsdelivr.net/gh/zhengzhenning/imageBeds@main/images/image-20230212130848052.png","https://cdn.jsdelivr.net/gh/zhengzhenning/imageBeds@main/images/image-20230212130928879.png","https://cdn.jsdelivr.net/gh/zhengzhenning/imageBeds@main/images/image-20230212131145609.png","https://cdn.jsdelivr.net/gh/zhengzhenning/imageBeds@main/images/image-20230212130951283.png","https://cdn.jsdelivr.net/gh/zhengzhenning/imageBeds@main/images/image-20230212131106510.png","https://cdn.jsdelivr.net/gh/zhengzhenning/imageBeds@main/images/image-20230212132840646.png","https://cdn.jsdelivr.net/gh/zhengzhenning/imageBeds@main/images/image-20230212133514178.png","https://cdn.jsdelivr.net/gh/zhengzhenning/imageBeds@main/images/image-20230212134701081.png","https://cdn.jsdelivr.net/gh/zhengzhenning/imageBeds@main/images/image-20230212135023209.png","https://cdn.jsdelivr.net/gh/zhengzhenning/imageBeds@main/images/image-20230212203934288.png","https://cdn.jsdelivr.net/gh/zhengzhenning/imageBeds@main/images/IMG_9425.jpeg","https://cdn.jsdelivr.net/gh/zhengzhenning/imageBeds@main/images/image-20230215182001546.png","https://cdn.jsdelivr.net/gh/zhengzhenning/imageBeds@main/images/image-20230215182138990.png","https://cdn.jsdelivr.net/gh/zhengzhenning/imageBeds@main/images/image-20230212135618065.png","https://cdn.jsdelivr.net/gh/zhengzhenning/imageBeds@main/images/image-20230212135956576.png","https://cdn.jsdelivr.net/gh/zhengzhenning/imageBeds@main/images/image-20230215183943952.png","https://cdn.jsdelivr.net/gh/zhengzhenning/imageBeds@main/images/image-20230215184802915.png","https://cdn.jsdelivr.net/gh/zhengzhenning/imageBeds@main/images/image-20230215185049012.png","https://cdn.jsdelivr.net/gh/zhengzhenning/imageBeds@main/images/image-20230215185440351.png","https://cdn.jsdelivr.net/gh/zhengzhenning/imageBeds@main/images/image-20230215185854589.png","https://cdn.jsdelivr.net/gh/zhengzhenning/imageBeds@main/images/IMG_F31E18E348B8-1.jpeg","https://cdn.jsdelivr.net/gh/zhengzhenning/imageBeds@main/images/image-20230215191236572.png","https://cdn.jsdelivr.net/gh/zhengzhenning/imageBeds@main/images/image-20230216183049198.png","https://cdn.jsdelivr.net/gh/zhengzhenning/imageBeds@main/images/IMG_80C3F397D371-1.jpeg","https://cdn.jsdelivr.net/gh/zhengzhenning/imageBeds@main/images/image-20230216190306201.png","https://cdn.jsdelivr.net/gh/zhengzhenning/imageBeds@main/images/image-20230216190509570.png","https://cdn.jsdelivr.net/gh/zhengzhenning/imageBeds@main/images/image-20230216190750180.png","https://cdn.jsdelivr.net/gh/zhengzhenning/imageBeds@main/images/image-20230216191045024.png","https://cdn.jsdelivr.net/gh/zhengzhenning/imageBeds@main/images/IMG_1A4D8D23F10B-1.jpeg","https://cdn.jsdelivr.net/gh/zhengzhenning/imageBeds@main/images/image-20230216193348340.png","https://cdn.jsdelivr.net/gh/zhengzhenning/imageBeds@main/images/image-20230215184110228.png"],"dateModified":"2024-04-12T02:36:39.000Z","author":[{"@type":"Person","name":"郑振宁","url":"https://mister-hope.com"}]}</script><title>存储体系 | 郑振宁</title><meta name="description" content="存储体系 * 华中科技大学-计算机系统结构 存储体系概念 定义、分支、依据 主要指标参数的计算 虚拟存储体系 3 种虚拟管理方式的原理、地址映像规则、影响表机构、地址变换过程、各自优缺点 段页式虚拟存储器中，由虚地址计算实地址；根据映像表内容计算主存实地址；判断段失效、页失效、保护失效 页式虚拟存储器中，虚实地址字段的对应关系、地址映像规则；由虚地址查...">
    <link rel="preload" href="/yibu_zzn/assets/style-D2N80Ugy.css" as="style"><link rel="stylesheet" href="/yibu_zzn/assets/style-D2N80Ugy.css">
    <link rel="modulepreload" href="/yibu_zzn/assets/app-Cb0mHaUK.js"><link rel="modulepreload" href="/yibu_zzn/assets/ 4 存储体系.html-DDR1k9f2.js"><link rel="modulepreload" href="/yibu_zzn/assets/plugin-vue_export-helper-DlAUqK2U.js">
    <link rel="prefetch" href="/yibu_zzn/assets/index.html-m1u1HvBu.js" as="script"><link rel="prefetch" href="/yibu_zzn/assets/awesome-site.html-B1XIDxYS.js" as="script"><link rel="prefetch" href="/yibu_zzn/assets/skill-map.html-BHfVfWS2.js" as="script"><link rel="prefetch" href="/yibu_zzn/assets/solution.html-BTqMACKF.js" as="script"><link rel="prefetch" href="/yibu_zzn/assets/tech-note.html-DEg8umIb.js" as="script"><link rel="prefetch" href="/yibu_zzn/assets/0面试笔记.html-B4MQ3eRa.js" as="script"><link rel="prefetch" href="/yibu_zzn/assets/1核心基础知识.html-DsGMcM1a.js" as="script"><link rel="prefetch" href="/yibu_zzn/assets/2类与对象.html-DuOGgx8v.js" as="script"><link rel="prefetch" href="/yibu_zzn/assets/3类与接口.html-Kr7VZQnW.js" as="script"><link rel="prefetch" href="/yibu_zzn/assets/4面试类.html-DeZ5qCjv.js" as="script"><link rel="prefetch" href="/yibu_zzn/assets/5异常处理.html-Bzau7tNk.js" as="script"><link rel="prefetch" href="/yibu_zzn/assets/6泛型编程.html-BHHDVDdT.js" as="script"><link rel="prefetch" href="/yibu_zzn/assets/7并发编程.html-ZdlcsuQ_.js" as="script"><link rel="prefetch" href="/yibu_zzn/assets/Activiti7 0 参考.html-DobQsgz3.js" as="script"><link rel="prefetch" href="/yibu_zzn/assets/Activiti7 1 BPMN规范.html-Cn3J1Qzn.js" as="script"><link rel="prefetch" href="/yibu_zzn/assets/Activiti7 10 _Form.html-Cvf-1FOP.js" as="script"><link rel="prefetch" href="/yibu_zzn/assets/Activiti7 12 测试.html-W24L26MF.js" as="script"><link rel="prefetch" href="/yibu_zzn/assets/Activiti7 13 问题与风险.html-4GimAUxj.js" as="script"><link rel="prefetch" href="/yibu_zzn/assets/Activiti7 2 流程模型.html-DljB6H3K.js" as="script"><link rel="prefetch" href="/yibu_zzn/assets/Activiti7 2 流程绘制.html-BPZ0jtoU.js" as="script"><link rel="prefetch" href="/yibu_zzn/assets/Activiti7 3 流程部署.html-DlsBS20n.js" as="script"><link rel="prefetch" href="/yibu_zzn/assets/Activiti7 4 流程定义.html-BrON8OKu.js" as="script"><link rel="prefetch" href="/yibu_zzn/assets/Activiti7 5 流程实例.html-DPNn6t0H.js" as="script"><link rel="prefetch" href="/yibu_zzn/assets/Activiti7 6 流程变量.html-DTLM3TtD.js" as="script"><link rel="prefetch" href="/yibu_zzn/assets/Activiti7 7 表结构_API.html-0TrtuZb4.js" as="script"><link rel="prefetch" href="/yibu_zzn/assets/Activiti7 8 事件.html-rc0LYABz.js" as="script"><link rel="prefetch" href="/yibu_zzn/assets/Activiti7 9 网关.html-Dz2GFPtl.js" as="script"><link rel="prefetch" href="/yibu_zzn/assets/0成为架构师的方法论.html-CrS0gnoa.js" as="script"><link rel="prefetch" href="/yibu_zzn/assets/1概述.html-D_QQwLrK.js" as="script"><link rel="prefetch" href="/yibu_zzn/assets/2案例驱动体验.html-syR4x0yY.js" as="script"><link rel="prefetch" href="/yibu_zzn/assets/3延迟任务队列方案.html-ADx75NWn.js" as="script"><link rel="prefetch" href="/yibu_zzn/assets/4分布式锁方案.html-DRrE4q3V.js" as="script"><link rel="prefetch" href="/yibu_zzn/assets/5限流方案.html-C6ZYagan.js" as="script"><link rel="prefetch" href="/yibu_zzn/assets/6分布式TopK系统方案.html-B8rAPIpB.js" as="script"><link rel="prefetch" href="/yibu_zzn/assets/7服务治理方案.html-dQubfUGB.js" as="script"><link rel="prefetch" href="/yibu_zzn/assets/2024.html-CoD479sb.js" as="script"><link rel="prefetch" href="/yibu_zzn/assets/Linux.html-BV-mxwGD.js" as="script"><link rel="prefetch" href="/yibu_zzn/assets/SL.html-CCbUJ0ql.js" as="script"><link rel="prefetch" href="/yibu_zzn/assets/MySQL.html-BJJ1MVt1.js" as="script"><link rel="prefetch" href="/yibu_zzn/assets/Oracle.html-BoxS2Eqe.js" as="script"><link rel="prefetch" href="/yibu_zzn/assets/Redis.html-eXPqSymC.js" as="script"><link rel="prefetch" href="/yibu_zzn/assets/《活出生命的意义》：找到“丢失的手稿”.html-AodXhEDj.js" as="script"><link rel="prefetch" href="/yibu_zzn/assets/《禅者的初心》读后感：吾性自足，不假外求.html-AjY_-1A5.js" as="script"><link rel="prefetch" href="/yibu_zzn/assets/ 1 概论.html-tYsZct-M.js" as="script"><link rel="prefetch" href="/yibu_zzn/assets/ 2 数据表示、寻址方式、指令系统.html-BrFnORvc.js" as="script"><link rel="prefetch" href="/yibu_zzn/assets/ 3 中断、总线、IO系统.html-DgSCa8fP.js" as="script"><link rel="prefetch" href="/yibu_zzn/assets/ 5 标量处理机.html-BQC1pDza.js" as="script"><link rel="prefetch" href="/yibu_zzn/assets/ 6 向量处理机.html-DZPNLWxm.js" as="script"><link rel="prefetch" href="/yibu_zzn/assets/ 7 多处理机.html-gwaTxvhj.js" as="script"><link rel="prefetch" href="/yibu_zzn/assets/ 8 数据流计算机与归约机.html-Dppu6B02.js" as="script"><link rel="prefetch" href="/yibu_zzn/assets/ 9 公式清单.html-BF1gwD1q.js" as="script"><link rel="prefetch" href="/yibu_zzn/assets/10 两轮问题汇总.html-B6qYisxS.js" as="script"><link rel="prefetch" href="/yibu_zzn/assets/2021.html-CcpB2YY8.js" as="script"><link rel="prefetch" href="/yibu_zzn/assets/2024.html-nAd8La3B.js" as="script"><link rel="prefetch" href="/yibu_zzn/assets/index.html-D9IvnZGq.js" as="script"><link rel="prefetch" href="/yibu_zzn/assets/Helm.html-Cxmc46kB.js" as="script"><link rel="prefetch" href="/yibu_zzn/assets/Lombok.html-B08fcXCV.js" as="script"><link rel="prefetch" href="/yibu_zzn/assets/Nacos.html-BzKtriqQ.js" as="script"><link rel="prefetch" href="/yibu_zzn/assets/Prometheus.html-DFTM6mE_.js" as="script"><link rel="prefetch" href="/yibu_zzn/assets/直播打赏.html-DK0Gnoxe.js" as="script"><link rel="prefetch" href="/yibu_zzn/assets/0概述.html-BJL0oRdZ.js" as="script"><link rel="prefetch" href="/yibu_zzn/assets/1物理层.html-BhPMhTC7.js" as="script"><link rel="prefetch" href="/yibu_zzn/assets/2数据链路层.html-CKBqEaXP.js" as="script"><link rel="prefetch" href="/yibu_zzn/assets/3网络层.html-ByAwz665.js" as="script"><link rel="prefetch" href="/yibu_zzn/assets/4传输层.html-Du8Bdsu3.js" as="script"><link rel="prefetch" href="/yibu_zzn/assets/9自考真题.html-DeRxscuP.js" as="script"><link rel="prefetch" href="/yibu_zzn/assets/404.html-CAaLL_9P.js" as="script"><link rel="prefetch" href="/yibu_zzn/assets/index.html-B_MIUjGf.js" as="script"><link rel="prefetch" href="/yibu_zzn/assets/index.html-_EeRrNeO.js" as="script"><link rel="prefetch" href="/yibu_zzn/assets/index.html-BsL62Gcd.js" as="script"><link rel="prefetch" href="/yibu_zzn/assets/index.html-CwU7rdo-.js" as="script"><link rel="prefetch" href="/yibu_zzn/assets/index.html-CaAolXGj.js" as="script"><link rel="prefetch" href="/yibu_zzn/assets/index.html-B3cwY7xF.js" as="script"><link rel="prefetch" href="/yibu_zzn/assets/index.html-BKlvHGtL.js" as="script"><link rel="prefetch" href="/yibu_zzn/assets/index.html-DZg0oyV0.js" as="script"><link rel="prefetch" href="/yibu_zzn/assets/index.html-CY7_jx0I.js" as="script"><link rel="prefetch" href="/yibu_zzn/assets/index.html-DgzKG37q.js" as="script"><link rel="prefetch" href="/yibu_zzn/assets/index.html-ChosnsDu.js" as="script"><link rel="prefetch" href="/yibu_zzn/assets/index.html-CEY1RP4y.js" as="script"><link rel="prefetch" href="/yibu_zzn/assets/index.html-C2DHFiZG.js" as="script"><link rel="prefetch" href="/yibu_zzn/assets/index.html-DA3MbiFo.js" as="script"><link rel="prefetch" href="/yibu_zzn/assets/index.html-BH9AtmU1.js" as="script"><link rel="prefetch" href="/yibu_zzn/assets/index.html-DuPzdR-3.js" as="script"><link rel="prefetch" href="/yibu_zzn/assets/index.html-rSWRfnjE.js" as="script"><link rel="prefetch" href="/yibu_zzn/assets/index.html-C_widanh.js" as="script"><link rel="prefetch" href="/yibu_zzn/assets/index.html-Cqow65_K.js" as="script"><link rel="prefetch" href="/yibu_zzn/assets/index.html-DBbec-LM.js" as="script"><link rel="prefetch" href="/yibu_zzn/assets/index.html-D9oiYhKA.js" as="script"><link rel="prefetch" href="/yibu_zzn/assets/index.html-BHIVhvj4.js" as="script"><link rel="prefetch" href="/yibu_zzn/assets/index.html-DXmTVbLV.js" as="script"><link rel="prefetch" href="/yibu_zzn/assets/index.html-DKHShFXJ.js" as="script"><link rel="prefetch" href="/yibu_zzn/assets/index.html-ysRYWmTu.js" as="script"><link rel="prefetch" href="/yibu_zzn/assets/index.html-BbPZ5LDz.js" as="script"><link rel="prefetch" href="/yibu_zzn/assets/index.html-CVWnUhTq.js" as="script"><link rel="prefetch" href="/yibu_zzn/assets/index.html-B0CER4Yr.js" as="script"><link rel="prefetch" href="/yibu_zzn/assets/index.html-B9aZCEhu.js" as="script"><link rel="prefetch" href="/yibu_zzn/assets/index.html-BtMteO3t.js" as="script"><link rel="prefetch" href="/yibu_zzn/assets/photoswipe.esm-GXRgw7eJ.js" as="script"><link rel="prefetch" href="/yibu_zzn/assets/setupDevtools-7MC2TMWH-JBaiddx-.js" as="script">
  </head>
  <body>
    <div id="app"><!--[--><!--[--><!--[--><span tabindex="-1"></span><a href="#main-content" class="vp-skip-link sr-only">跳至主要內容</a><!--]--><div class="theme-container external-link-icon has-toc" vp-container><!--[--><header id="navbar" class="vp-navbar" vp-navbar><div class="vp-navbar-start"><button type="button" class="vp-toggle-sidebar-button" title="Toggle Sidebar"><span class="icon"></span></button><!----><!--[--><a class="route-link vp-brand" href="/yibu_zzn/" aria-label="带我回家"><img class="vp-nav-logo" src="/yibu_zzn/avatar.jpg" alt><!----><span class="vp-site-name hide-in-pad">郑振宁</span></a><!--]--><!----></div><div class="vp-navbar-center"><!----><!--[--><nav class="vp-nav-links"><div class="vp-nav-item hide-in-mobile"><a class="route-link auto-link" href="/yibu_zzn/" aria-label="我的简历"><!--[--><span class="font-icon icon iconfont home" style=""></span><!--]-->我的简历<!----></a></div><div class="vp-nav-item hide-in-mobile"><a class="route-link auto-link" href="/yibu_zzn/solution.html" aria-label="方案地图"><!---->方案地图<!----></a></div><div class="vp-nav-item hide-in-mobile"><a class="route-link auto-link" href="/yibu_zzn/skill-map.html" aria-label="技能地图"><!---->技能地图<!----></a></div><div class="vp-nav-item hide-in-mobile"><a class="route-link auto-link" href="/yibu_zzn/tech-note.html" aria-label="技术笔记"><!---->技术笔记<!----></a></div><div class="vp-nav-item hide-in-mobile"><a class="route-link auto-link" href="/yibu_zzn/awesome-site.html" aria-label="外部链接"><!---->外部链接<!----></a></div></nav><!--]--><!----></div><div class="vp-navbar-end"><!----><!--[--><!----><!----><div class="vp-nav-item hide-in-mobile"><button type="button" class="vp-color-mode-switch" id="color-mode-switch"><svg xmlns="http://www.w3.org/2000/svg" class="icon auto-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="auto icon" name="auto" style="display:block;"><path d="M512 992C246.92 992 32 777.08 32 512S246.92 32 512 32s480 214.92 480 480-214.92 480-480 480zm0-840c-198.78 0-360 161.22-360 360 0 198.84 161.22 360 360 360s360-161.16 360-360c0-198.78-161.22-360-360-360zm0 660V212c165.72 0 300 134.34 300 300 0 165.72-134.28 300-300 300z"></path></svg><svg xmlns="http://www.w3.org/2000/svg" class="icon dark-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="dark icon" name="dark" style="display:none;"><path d="M524.8 938.667h-4.267a439.893 439.893 0 0 1-313.173-134.4 446.293 446.293 0 0 1-11.093-597.334A432.213 432.213 0 0 1 366.933 90.027a42.667 42.667 0 0 1 45.227 9.386 42.667 42.667 0 0 1 10.24 42.667 358.4 358.4 0 0 0 82.773 375.893 361.387 361.387 0 0 0 376.747 82.774 42.667 42.667 0 0 1 54.187 55.04 433.493 433.493 0 0 1-99.84 154.88 438.613 438.613 0 0 1-311.467 128z"></path></svg><svg xmlns="http://www.w3.org/2000/svg" class="icon light-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="light icon" name="light" style="display:none;"><path d="M952 552h-80a40 40 0 0 1 0-80h80a40 40 0 0 1 0 80zM801.88 280.08a41 41 0 0 1-57.96-57.96l57.96-58a41.04 41.04 0 0 1 58 58l-58 57.96zM512 752a240 240 0 1 1 0-480 240 240 0 0 1 0 480zm0-560a40 40 0 0 1-40-40V72a40 40 0 0 1 80 0v80a40 40 0 0 1-40 40zm-289.88 88.08-58-57.96a41.04 41.04 0 0 1 58-58l57.96 58a41 41 0 0 1-57.96 57.96zM192 512a40 40 0 0 1-40 40H72a40 40 0 0 1 0-80h80a40 40 0 0 1 40 40zm30.12 231.92a41 41 0 0 1 57.96 57.96l-57.96 58a41.04 41.04 0 0 1-58-58l58-57.96zM512 832a40 40 0 0 1 40 40v80a40 40 0 0 1-80 0v-80a40 40 0 0 1 40-40zm289.88-88.08 58 57.96a41.04 41.04 0 0 1-58 58l-57.96-58a41 41 0 0 1 57.96-57.96z"></path></svg></button></div><!----><!--]--><!----><button type="button" class="vp-toggle-navbar-button" aria-label="Toggle Navbar" aria-expanded="false" aria-controls="nav-screen"><span><span class="vp-top"></span><span class="vp-middle"></span><span class="vp-bottom"></span></span></button></div></header><!----><!--]--><!----><div class="toggle-sidebar-wrapper"><span class="arrow start"></span></div><aside id="sidebar" class="vp-sidebar" vp-sidebar><!----><ul class="vp-sidebar-links"><li><a class="route-link auto-link vp-sidebar-link" href="/yibu_zzn/" aria-label="我的简历"><!--[--><span class="font-icon icon iconfont home" style=""></span><!--]-->我的简历<!----></a></li><li><section class="vp-sidebar-group"><button class="vp-sidebar-header clickable active" type="button"><span class="font-icon icon iconfont icon-book" style=""></span><a class="route-link route-link-active auto-link vp-sidebar-title no-external-link-icon" href="/yibu_zzn/%E7%B3%BB%E7%BB%9F%E7%BB%93%E6%9E%84/" aria-label="系统结构"><!---->系统结构<!----></a><span class="vp-arrow down"></span></button><ul class="vp-sidebar-links"><li><a class="route-link auto-link vp-sidebar-link" href="/yibu_zzn/%E7%B3%BB%E7%BB%9F%E7%BB%93%E6%9E%84/%201%20%E6%A6%82%E8%AE%BA.html" aria-label="概论"><!--[--><span class="font-icon icon iconfont file" style=""></span><!--]-->概论<!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/yibu_zzn/%E7%B3%BB%E7%BB%9F%E7%BB%93%E6%9E%84/%202%20%E6%95%B0%E6%8D%AE%E8%A1%A8%E7%A4%BA%E3%80%81%E5%AF%BB%E5%9D%80%E6%96%B9%E5%BC%8F%E3%80%81%E6%8C%87%E4%BB%A4%E7%B3%BB%E7%BB%9F.html" aria-label="数据表示、寻址方式、指令系统"><!--[--><span class="font-icon icon iconfont file" style=""></span><!--]-->数据表示、寻址方式、指令系统<!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/yibu_zzn/%E7%B3%BB%E7%BB%9F%E7%BB%93%E6%9E%84/%203%20%E4%B8%AD%E6%96%AD%E3%80%81%E6%80%BB%E7%BA%BF%E3%80%81IO%E7%B3%BB%E7%BB%9F.html" aria-label="中断、总线、IO系统"><!--[--><span class="font-icon icon iconfont file" style=""></span><!--]-->中断、总线、IO系统<!----></a></li><li><a class="route-link route-link-active auto-link vp-sidebar-link active" href="/yibu_zzn/%E7%B3%BB%E7%BB%9F%E7%BB%93%E6%9E%84/%204%20%E5%AD%98%E5%82%A8%E4%BD%93%E7%B3%BB.html" aria-label="存储体系"><!--[--><span class="font-icon icon iconfont file" style=""></span><!--]-->存储体系<!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/yibu_zzn/%E7%B3%BB%E7%BB%9F%E7%BB%93%E6%9E%84/%205%20%E6%A0%87%E9%87%8F%E5%A4%84%E7%90%86%E6%9C%BA.html" aria-label="标量处理机"><!--[--><span class="font-icon icon iconfont file" style=""></span><!--]-->标量处理机<!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/yibu_zzn/%E7%B3%BB%E7%BB%9F%E7%BB%93%E6%9E%84/%206%20%E5%90%91%E9%87%8F%E5%A4%84%E7%90%86%E6%9C%BA.html" aria-label="向量处理机"><!--[--><span class="font-icon icon iconfont file" style=""></span><!--]-->向量处理机<!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/yibu_zzn/%E7%B3%BB%E7%BB%9F%E7%BB%93%E6%9E%84/%207%20%E5%A4%9A%E5%A4%84%E7%90%86%E6%9C%BA.html" aria-label="多处理机"><!--[--><span class="font-icon icon iconfont file" style=""></span><!--]-->多处理机<!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/yibu_zzn/%E7%B3%BB%E7%BB%9F%E7%BB%93%E6%9E%84/%208%20%E6%95%B0%E6%8D%AE%E6%B5%81%E8%AE%A1%E7%AE%97%E6%9C%BA%E4%B8%8E%E5%BD%92%E7%BA%A6%E6%9C%BA.html" aria-label="数据流计算机与归约机"><!--[--><span class="font-icon icon iconfont file" style=""></span><!--]-->数据流计算机与归约机<!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/yibu_zzn/%E7%B3%BB%E7%BB%9F%E7%BB%93%E6%9E%84/%209%20%E5%85%AC%E5%BC%8F%E6%B8%85%E5%8D%95.html" aria-label="公式清单"><!--[--><span class="font-icon icon iconfont file" style=""></span><!--]-->公式清单<!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/yibu_zzn/%E7%B3%BB%E7%BB%9F%E7%BB%93%E6%9E%84/10%20%E4%B8%A4%E8%BD%AE%E9%97%AE%E9%A2%98%E6%B1%87%E6%80%BB.html" aria-label="两轮问题汇总"><!--[--><span class="font-icon icon iconfont file" style=""></span><!--]-->两轮问题汇总<!----></a></li></ul></section></li><li><section class="vp-sidebar-group"><button class="vp-sidebar-header clickable" type="button"><span class="font-icon icon iconfont icon-book" style=""></span><a class="route-link auto-link vp-sidebar-title no-external-link-icon" href="/yibu_zzn/%E7%BD%91%E7%BB%9C%E5%8E%9F%E7%90%86/" aria-label="网络原理"><!---->网络原理<!----></a><span class="vp-arrow end"></span></button><!----></section></li><li><section class="vp-sidebar-group"><button class="vp-sidebar-header clickable" type="button"><span class="font-icon icon iconfont icon-book" style=""></span><a class="route-link auto-link vp-sidebar-title no-external-link-icon" href="/yibu_zzn/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/" aria-label="操作系统"><!---->操作系统<!----></a><span class="vp-arrow end"></span></button><!----></section></li><li><section class="vp-sidebar-group"><button class="vp-sidebar-header clickable" type="button"><span class="font-icon icon iconfont icon-book" style=""></span><a class="route-link auto-link vp-sidebar-title no-external-link-icon" href="/yibu_zzn/%E6%95%B0%E6%8D%AE%E5%BA%93%E7%AC%94%E8%AE%B0/" aria-label="数据库笔记"><!---->数据库笔记<!----></a><span class="vp-arrow end"></span></button><!----></section></li><li><section class="vp-sidebar-group"><button class="vp-sidebar-header clickable" type="button"><span class="font-icon icon iconfont icon-book" style=""></span><a class="route-link auto-link vp-sidebar-title no-external-link-icon" href="/yibu_zzn/Java%E7%AC%94%E8%AE%B0/" aria-label="Java笔记"><!---->Java笔记<!----></a><span class="vp-arrow end"></span></button><!----></section></li><li><section class="vp-sidebar-group"><button class="vp-sidebar-header clickable" type="button"><span class="font-icon icon iconfont icon-book" style=""></span><a class="route-link auto-link vp-sidebar-title no-external-link-icon" href="/yibu_zzn/%E5%BE%AE%E6%9C%8D%E5%8A%A1%E6%9E%B6%E6%9E%84/" aria-label="微服务架构"><!---->微服务架构<!----></a><span class="vp-arrow end"></span></button><!----></section></li><li><section class="vp-sidebar-group"><button class="vp-sidebar-header clickable" type="button"><span class="font-icon icon iconfont icon-book" style=""></span><a class="route-link auto-link vp-sidebar-title no-external-link-icon" href="/yibu_zzn/%E7%BB%84%E4%BB%B6%E7%AC%94%E8%AE%B0/" aria-label="组件笔记"><!---->组件笔记<!----></a><span class="vp-arrow end"></span></button><!----></section></li><li><section class="vp-sidebar-group"><button class="vp-sidebar-header clickable" type="button"><span class="font-icon icon iconfont icon-book" style=""></span><a class="route-link auto-link vp-sidebar-title no-external-link-icon" href="/yibu_zzn/Activiti7%E7%AC%94%E8%AE%B0/" aria-label="Activiti7笔记"><!---->Activiti7笔记<!----></a><span class="vp-arrow end"></span></button><!----></section></li><li><section class="vp-sidebar-group"><button class="vp-sidebar-header clickable" type="button"><span class="font-icon icon iconfont icon-book" style=""></span><a class="route-link auto-link vp-sidebar-title no-external-link-icon" href="/yibu_zzn/%E6%BC%AB%E6%B8%B8%E6%97%A5%E5%BF%97/" aria-label="漫游日志"><!---->漫游日志<!----></a><span class="vp-arrow end"></span></button><!----></section></li><li><section class="vp-sidebar-group"><button class="vp-sidebar-header clickable" type="button"><span class="font-icon icon iconfont icon-book" style=""></span><a class="route-link auto-link vp-sidebar-title no-external-link-icon" href="/yibu_zzn/%E6%8A%95%E7%A0%94%E6%97%A5%E5%BF%97/" aria-label="投研日志"><!---->投研日志<!----></a><span class="vp-arrow end"></span></button><!----></section></li></ul><!----></aside><!--[--><main id="main-content" class="vp-page"><!--[--><!----><!----><nav class="vp-breadcrumb disable"></nav><div class="vp-page-title"><h1><span class="font-icon icon iconfont file" style=""></span>存储体系</h1><div class="page-info"><span class="page-author-info" aria-label="作者🖊" data-balloon-pos="up"><svg xmlns="http://www.w3.org/2000/svg" class="icon author-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="author icon" name="author"><path d="M649.6 633.6c86.4-48 147.2-144 147.2-249.6 0-160-128-288-288-288s-288 128-288 288c0 108.8 57.6 201.6 147.2 249.6-121.6 48-214.4 153.6-240 288-3.2 9.6 0 19.2 6.4 25.6 3.2 9.6 12.8 12.8 22.4 12.8h704c9.6 0 19.2-3.2 25.6-12.8 6.4-6.4 9.6-16 6.4-25.6-25.6-134.4-121.6-240-243.2-288z"></path></svg><span><a class="page-author-item" href="https://mister-hope.com" target="_blank" rel="noopener noreferrer">郑振宁</a></span><span property="author" content="郑振宁"></span></span><!----><span class="page-date-info" aria-label="写作日期📅" data-balloon-pos="up"><svg xmlns="http://www.w3.org/2000/svg" class="icon calendar-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="calendar icon" name="calendar"><path d="M716.4 110.137c0-18.753-14.72-33.473-33.472-33.473-18.753 0-33.473 14.72-33.473 33.473v33.473h66.993v-33.473zm-334.87 0c0-18.753-14.72-33.473-33.473-33.473s-33.52 14.72-33.52 33.473v33.473h66.993v-33.473zm468.81 33.52H716.4v100.465c0 18.753-14.72 33.473-33.472 33.473a33.145 33.145 0 01-33.473-33.473V143.657H381.53v100.465c0 18.753-14.72 33.473-33.473 33.473a33.145 33.145 0 01-33.473-33.473V143.657H180.6A134.314 134.314 0 0046.66 277.595v535.756A134.314 134.314 0 00180.6 947.289h669.74a134.36 134.36 0 00133.94-133.938V277.595a134.314 134.314 0 00-133.94-133.938zm33.473 267.877H147.126a33.145 33.145 0 01-33.473-33.473c0-18.752 14.72-33.473 33.473-33.473h736.687c18.752 0 33.472 14.72 33.472 33.473a33.145 33.145 0 01-33.472 33.473z"></path></svg><span data-allow-mismatch="text">2024年4月12日</span><meta property="datePublished" content="2024-04-12T02:36:39.000Z"></span><!----><span class="page-reading-time-info" aria-label="阅读时间⌛" data-balloon-pos="up"><svg xmlns="http://www.w3.org/2000/svg" class="icon timer-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="timer icon" name="timer"><path d="M799.387 122.15c4.402-2.978 7.38-7.897 7.38-13.463v-1.165c0-8.933-7.38-16.312-16.312-16.312H256.33c-8.933 0-16.311 7.38-16.311 16.312v1.165c0 5.825 2.977 10.874 7.637 13.592 4.143 194.44 97.22 354.963 220.201 392.763-122.204 37.542-214.893 196.511-220.2 389.397-4.661 5.049-7.638 11.651-7.638 19.03v5.825h566.49v-5.825c0-7.379-2.849-13.981-7.509-18.9-5.049-193.016-97.867-351.985-220.2-389.527 123.24-37.67 216.446-198.453 220.588-392.892zM531.16 450.445v352.632c117.674 1.553 211.787 40.778 211.787 88.676H304.097c0-48.286 95.149-87.382 213.728-88.676V450.445c-93.077-3.107-167.901-81.297-167.901-177.093 0-8.803 6.99-15.793 15.793-15.793 8.803 0 15.794 6.99 15.794 15.793 0 80.261 63.69 145.635 142.01 145.635s142.011-65.374 142.011-145.635c0-8.803 6.99-15.793 15.794-15.793s15.793 6.99 15.793 15.793c0 95.019-73.789 172.82-165.96 177.093z"></path></svg><span>大约 23 分钟</span><meta property="timeRequired" content="PT23M"></span><span class="page-category-info" aria-label="分类🌈" data-balloon-pos="up"><svg xmlns="http://www.w3.org/2000/svg" class="icon category-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="category icon" name="category"><path d="M148.41 106.992h282.176c22.263 0 40.31 18.048 40.31 40.31V429.48c0 22.263-18.047 40.31-40.31 40.31H148.41c-22.263 0-40.311-18.047-40.311-40.31V147.302c0-22.263 18.048-40.31 40.311-40.31zM147.556 553.478H429.73c22.263 0 40.311 18.048 40.311 40.31v282.176c0 22.263-18.048 40.312-40.31 40.312H147.555c-22.263 0-40.311-18.049-40.311-40.312V593.79c0-22.263 18.048-40.311 40.31-40.311zM593.927 106.992h282.176c22.263 0 40.31 18.048 40.31 40.31V429.48c0 22.263-18.047 40.31-40.31 40.31H593.927c-22.263 0-40.311-18.047-40.311-40.31V147.302c0-22.263 18.048-40.31 40.31-40.31zM730.22 920.502H623.926c-40.925 0-74.22-33.388-74.22-74.425V623.992c0-41.038 33.387-74.424 74.425-74.424h222.085c41.038 0 74.424 33.226 74.424 74.067v114.233c0 10.244-8.304 18.548-18.547 18.548s-18.548-8.304-18.548-18.548V623.635c0-20.388-16.746-36.974-37.33-36.974H624.13c-20.585 0-37.331 16.747-37.331 37.33v222.086c0 20.585 16.654 37.331 37.126 37.331H730.22c10.243 0 18.547 8.304 18.547 18.547 0 10.244-8.304 18.547-18.547 18.547z"></path></svg><!--[--><span class="page-category-item color4 clickable" role="navigation">系统结构</span><span class="page-category-item color2 clickable" role="navigation">理论基础</span><!--]--><meta property="articleSection" content="系统结构,理论基础"></span><!----></div><hr></div><div class="vp-toc-placeholder"><aside id="toc" vp-toc><!----><div class="vp-toc-header">此页内容<button type="button" class="print-button" title="打印"><svg xmlns="http://www.w3.org/2000/svg" class="icon print-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="print icon" name="print"><path d="M819.2 364.8h-44.8V128c0-17.067-14.933-32-32-32H281.6c-17.067 0-32 14.933-32 32v236.8h-44.8C145.067 364.8 96 413.867 96 473.6v192c0 59.733 49.067 108.8 108.8 108.8h44.8V896c0 17.067 14.933 32 32 32h460.8c17.067 0 32-14.933 32-32V774.4h44.8c59.733 0 108.8-49.067 108.8-108.8v-192c0-59.733-49.067-108.8-108.8-108.8zM313.6 160h396.8v204.8H313.6V160zm396.8 704H313.6V620.8h396.8V864zM864 665.6c0 25.6-19.2 44.8-44.8 44.8h-44.8V588.8c0-17.067-14.933-32-32-32H281.6c-17.067 0-32 14.933-32 32v121.6h-44.8c-25.6 0-44.8-19.2-44.8-44.8v-192c0-25.6 19.2-44.8 44.8-44.8h614.4c25.6 0 44.8 19.2 44.8 44.8v192z"></path></svg></button><div class="arrow end"></div></div><div class="vp-toc-wrapper"><ul class="vp-toc-list"><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level2" href="#简答题·全">简答题·全</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level2" href="#应用题·全">应用题·全</a></li><li><ul class="vp-toc-list"><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#提高c的等效访问速度-命中率h">提高C的等效访问速度（命中率H）**</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#单体交叉存储器转移概率">单体交叉存储器转移概率</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#cache-存储器替换">Cache 存储器替换</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#虚拟存储器替换">虚拟存储器替换</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#存储体系的性能参数">存储体系的性能参数</a></li><!----><!--]--></ul></li><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level2" href="#定义-·">定义 ·</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level2" href="#基本要求">基本要求 *</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level2" href="#并行主存系统">并行主存系统**</a></li><li><ul class="vp-toc-list"><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#每周期能访问的平均字数">每周期能访问的平均字数 *</a></li><!----><!--]--></ul></li><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level2" href="#构成依据-局部性">构成依据（局部性）**</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level2" href="#性能参数">性能参数</a></li><li><ul class="vp-toc-list"><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#计算价格">计算价格</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#计算命中率">计算命中率</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#计算平均访问时间">计算平均访问时间 **</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#计算访问效率">计算访问效率 **</a></li><!----><!--]--></ul></li><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level2" href="#存储管理方式">存储管理方式</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level2" href="#段式虚拟存储器">段式虚拟存储器</a></li><li><ul class="vp-toc-list"><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#地址映像">地址映像</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#地址变换">地址变换</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#优缺点">优缺点</a></li><!----><!--]--></ul></li><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level2" href="#页式虚拟存储器">页式虚拟存储器 * *</a></li><li><ul class="vp-toc-list"><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#地址映像-1">地址映像</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#地址变换-1">地址变换</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#优缺点-1">优缺点</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#页面替换算法">页面替换算法 * ^</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#堆栈型替换算法">堆栈型替换算法 * *</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#页面失效频率-pff-算法">页面失效频率（PFF）算法</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#提高主存命中率">提高主存命中率</a></li><!----><!--]--></ul></li><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level2" href="#段页式虚拟存储器">段页式虚拟存储器</a></li><li><ul class="vp-toc-list"><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#地址映像-2">地址映像</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#地址变换-2">地址变换</a></li><!----><!--]--></ul></li><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level2" href="#地址映像与变换">地址映像与变换</a></li><li><ul class="vp-toc-list"><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#全相联地址映像与变换">全相联地址映像与变换</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#直接相联地址映像与变换">直接相联地址映像与变换</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#组相联地址映像与变换">组相联地址映像与变换</a></li><!----><!--]--></ul></li><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level2" href="#cache-替换算法及其实现">Cache 替换算法及其实现</a></li><li><ul class="vp-toc-list"><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#轮换法及其实现">轮换法及其实现</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#lru-算法及其实现">LRU 算法及其实现 *</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#比较对法及其实现">比较对法及其实现 -</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#堆栈法及其实现">堆栈法及其实现 -</a></li><!----><!--]--></ul></li><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level2" href="#cache-性能分析">Cache 性能分析 * **</a></li><li><ul class="vp-toc-list"><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#提高-c-的命中率">提高 C 的命中率</a></li><!----><!--]--></ul></li><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level2" href="#cache-数据一致性">Cache 数据一致性</a></li><li><ul class="vp-toc-list"><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#cache-的更新算法">Cache 的更新算法</a></li><!----><!--]--></ul></li><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level2" href="#cache-预取算法">Cache 预取算法</a></li><!----><!--]--></ul><div class="vp-toc-marker" style="top:-1.7rem;"></div></div><!----></aside></div><!----><div class="theme-hope-content" vp-content><h1 id="存储体系" tabindex="-1"><a class="header-anchor" href="#存储体系"><span>存储体系 *</span></a></h1><p><a href="https://www.icourse163.org/course/HUST-1207109824?tid=1207462224" target="_blank" rel="noopener noreferrer">华中科技大学-计算机系统结构</a></p><ol><li>存储体系概念 <ol><li>定义、分支、依据</li><li>主要指标参数的计算</li></ol></li><li>虚拟存储体系 <ol><li>3 种虚拟管理方式的原理、地址映像规则、影响表机构、地址变换过程、各自优缺点</li><li><strong>段页式虚拟存储器</strong>中，<strong>由虚地址计算实地址</strong>；根据映像表内容计算主存实地址；判断段失效、页失效、保护失效</li><li>页式虚拟存储器中，虚实地址字段的对应关系、地址映像规则；由虚地址查映像表计算实主存地址，或判断页失效</li><li>用 <strong>FIFO</strong>、<strong>LRU</strong>、OPT 算法页面替换的过程模拟，计算命中率</li><li>堆栈型替换算法定义、种类；给出程序运行时的虚页地址流用 LRU 替换算法进行堆栈模拟处理，求不同实页数的命中率</li><li>PFF 替换算法的原理；二道程序给出各自程序运行中得虚页地址流，合理分配给它们的实主存页数，使系统效率最高</li><li>分析虚拟存储器得页面大小、分配给主存容量与主存命中率的变化趋势，给出综合评估和改进虚拟存储器性能得办法</li></ol></li><li>Cache 存储器</li><li>三级存储体系的组织</li></ol><h1 id="真题" tabindex="-1"><a class="header-anchor" href="#真题"><span>真题</span></a></h1><h2 id="简答题·全" tabindex="-1"><a class="header-anchor" href="#简答题·全"><span>简答题·全</span></a></h2><p>【虚拟存储器篇】</p><p>简述页式虚拟存储器<strong>页面失效</strong>和<strong>实页冲突</strong>发生的原因及所确定<strong>替换算法</strong>的依据 <strong>2104</strong> <strong>0707</strong></p><p>简述提出<strong>虚拟存储器</strong>的原因并根据<strong>存储映像算法</strong>的不同写出虚拟存储器主要的三种<strong>存储管理方式</strong>。<strong>2010</strong></p><p>简述在采用<strong>页式虚拟存储器</strong>的系统中，<strong>页面失效频率(PFF)算法</strong>的思想。<strong>1304</strong></p><p>简述提高模m值，影响主存实际频宽的因素及结果。<strong>1904</strong> <strong>0604</strong> x2</p><blockquote><p>对模m交叉，若都是顺序取指，则效率可提高m倍；</p><p>转移指令的客观存在性会降低主存系统的效率；</p><p>模m越大，总线越长，传输速度越慢；</p><p>因此，提高模m能提高主存频宽，但二者不成线性关系。</p></blockquote><p>【Cache 存储器篇】</p><p>简述Cache<strong>全相联映像</strong>的概念及其优缺点 <strong>1910</strong></p><p>简述<strong>Cache存储器地址映像</strong>、<strong>地址变换</strong>的概念以及<strong>映像规则</strong>的选择要求 <strong>1610</strong></p><p>简述更新主存内容的<strong>写回法</strong>和<strong>写直达法</strong>的基本原理 <strong>2204</strong> <strong>1804</strong> <strong>1710</strong> x</p><h2 id="应用题·全" tabindex="-1"><a class="header-anchor" href="#应用题·全"><span>应用题·全</span></a></h2><h3 id="提高c的等效访问速度-命中率h" tabindex="-1"><a class="header-anchor" href="#提高c的等效访问速度-命中率h"><span>提高C的等效访问速度（命中率H）**</span></a></h3><figure><img src="https://cdn.jsdelivr.net/gh/zhengzhenning/imageBeds@main/images/image-20230212201704104.png" alt="image-20230212201704104" tabindex="0" loading="lazy"><figcaption>image-20230212201704104</figcaption></figure><figure><img src="https://cdn.jsdelivr.net/gh/zhengzhenning/imageBeds@main/images/IMG_9605.jpeg" alt="IMG_9605" tabindex="0" loading="lazy"><figcaption>IMG_9605</figcaption></figure><p>已知 $t_c$ 是Cache的访问时间；$t_m$ 是主存周期；$t_a$是等效存储周期；$H_c$ 是访Cache的命中率，那么：</p><p>（1）增大主存容量，对 $H_c$ 基本不影响。虽然增大主存容量可能会使 $t_m$ 稍微有所加大，但如果 $H_c$ 已经很高，那么这种 $t_m$ 的增大对 $t_a$ 的增大不会有明显的影响。</p><p>（2）增大Cache中的块数，而块的大小不变，意味着Cache的容量增大了。由于 LRU替换算法属于堆栈型算法，因此将使 $H_c$ 上升，从而使 $t_a$ 缩短。$t_a$ 是否显著降低取决于$H_c$所处的水平，若 $H_c$ 较低，则 $t_a$ 会显著降低，反之则无明显变化。</p><p>（3）增大组相联组的大小，块的大小不变，意味着组内的块数增大了。这将使块的冲突概率下降，块的替换次数减少，$H_c$ 上升，从而使 $t_a$ 缩短。$t_a$ 是否显著降低取决于$H_c$所处的水平，若 $H_c$ 较低，则 $t_a$ 会显著降低，反之则无明显变化。</p><p>（4）增大块的大小，且组的大小和cache总容量不变。与（3）一致。</p><p>（5）提高 Cache 本身器件的访问速度，即减小 $t_c$ 的时间。仅当 $H_c$ 很高时，才会显著缩短 $t_a$ 。</p><h3 id="单体交叉存储器转移概率" tabindex="-1"><a class="header-anchor" href="#单体交叉存储器转移概率"><span>单体交叉存储器转移概率</span></a></h3><figure><img src="https://cdn.jsdelivr.net/gh/zhengzhenning/imageBeds@main/images/image-20230212201748375.png" alt="image-20230212201748375" tabindex="0" loading="lazy"><figcaption>image-20230212201748375</figcaption></figure><h3 id="cache-存储器替换" tabindex="-1"><a class="header-anchor" href="#cache-存储器替换"><span>Cache 存储器替换</span></a></h3><figure><img src="https://cdn.jsdelivr.net/gh/zhengzhenning/imageBeds@main/images/image-20230322220917610.png" alt="image-20230322220917610" tabindex="0" loading="lazy"><figcaption>image-20230322220917610</figcaption></figure><figure><img src="https://cdn.jsdelivr.net/gh/zhengzhenning/imageBeds@main/images/image-20230322223013764.png" alt="image-20230322223013764" tabindex="0" loading="lazy"><figcaption>image-20230322223013764</figcaption></figure><h3 id="虚拟存储器替换" tabindex="-1"><a class="header-anchor" href="#虚拟存储器替换"><span>虚拟存储器替换</span></a></h3><figure><img src="https://cdn.jsdelivr.net/gh/zhengzhenning/imageBeds@main/images/image-20230216195451765.png" alt="image-20230216195451765" tabindex="0" loading="lazy"><figcaption>image-20230216195451765</figcaption></figure><figure><img src="https://cdn.jsdelivr.net/gh/zhengzhenning/imageBeds@main/images/image-20230322221154535.png" alt="image-20230322221154535" tabindex="0" loading="lazy"><figcaption>image-20230322221154535</figcaption></figure><ul><li><p><strong>实页数=主存容量/页面大小</strong>；</p></li><li><p><strong>虚页地址流=地址流/页面大小</strong></p></li></ul><h3 id="存储体系的性能参数" tabindex="-1"><a class="header-anchor" href="#存储体系的性能参数"><span>存储体系的性能参数</span></a></h3><figure><img src="https://cdn.jsdelivr.net/gh/zhengzhenning/imageBeds@main/images/image-20230216195611689.png" alt="image-20230216195611689" tabindex="0" loading="lazy"><figcaption>image-20230216195611689</figcaption></figure><figure><img src="https://cdn.jsdelivr.net/gh/zhengzhenning/imageBeds@main/images/image-20230216195632666.png" alt="image-20230216195632666" tabindex="0" loading="lazy"><figcaption>image-20230216195632666</figcaption></figure><h1 id="存储系统" tabindex="-1"><a class="header-anchor" href="#存储系统"><span>存储系统</span></a></h1><h2 id="定义-·" tabindex="-1"><a class="header-anchor" href="#定义-·"><span>定义 ·</span></a></h2><p>两个或两个以上<strong>速度</strong>、<strong>容量</strong>和<strong>价格</strong>各不相同的存储器用<strong>硬件</strong>、<strong>软件</strong>、或<strong>软硬结合</strong>的方式连接起来构成<strong>存储系统</strong>。计算机一般有两种存储系统：</p><ul><li>Cache 存储系统</li><li>虚拟存储系统</li></ul><blockquote><p>【图】由多个存储器构成的存储系统</p><figure><img src="https://cdn.jsdelivr.net/gh/zhengzhenning/imageBeds@main/images/image-20230212123046510.png" alt="image-20230212123046510" tabindex="0" loading="lazy"><figcaption>image-20230212123046510</figcaption></figure><p>再具化一点：</p><figure><img src="https://cdn.jsdelivr.net/gh/zhengzhenning/imageBeds@main/images/image-20230212123323599.png" alt="image-20230212123323599" tabindex="0" loading="lazy"><figcaption>image-20230212123323599</figcaption></figure><figure><img src="https://cdn.jsdelivr.net/gh/zhengzhenning/imageBeds@main/images/image-20230212123617425.png" alt="image-20230212123617425" tabindex="0" loading="lazy"><figcaption>image-20230212123617425</figcaption></figure><p>从上面可以得出一个结论：CPU 与主存储器的速度差距越来越大，且今后差距会更大。</p></blockquote><h2 id="基本要求" tabindex="-1"><a class="header-anchor" href="#基本要求"><span>基本要求 *</span></a></h2><p>对存储系统的基本要求：<strong>大容量</strong>、<strong>高速度</strong>、<strong>低价格</strong>。</p><p>对于这些要求，有几个公式需要记：*****</p><ul><li><p>存储器<strong>容量</strong>的公式 $S_M=W·m·l$ <u><strong>简记：一碗麻辣粉</strong></u></p><ul><li>$W$ - 存储体的字长</li><li>$m$ - 存储体的个数</li><li>$l$ - 存储体的字数</li></ul></li><li><p>单/多体<strong>频宽</strong>的公式 $B_m=m·W/T_M$ 当$m=1$时名为单体公式。</p><ul><li>$m$ - 存储体的个数</li><li>$W$ - 存储体的字长</li><li>$T_M$ - 连续启动一个存储体所需的间隔时间</li></ul></li></ul><p><strong>最大频宽</strong>与<strong>实际频宽</strong>的区别：<strong>最大频宽</strong>是<strong>存储器连续访问时的频宽</strong>，实际频宽：一般低于最大频宽。 <strong>^</strong></p><blockquote><p>【例】1610#26、1504#26</p><figure><img src="https://cdn.jsdelivr.net/gh/zhengzhenning/imageBeds@main/images/image-20230212121410491.png" alt="image-20230212121410491" tabindex="0" loading="lazy"><figcaption>image-20230212121410491</figcaption></figure><figure><img src="https://cdn.jsdelivr.net/gh/zhengzhenning/imageBeds@main/images/image-20230212121439209.png" alt="image-20230212121439209" tabindex="0" loading="lazy"><figcaption>image-20230212121439209</figcaption></figure></blockquote><p>人们总是期望“存储器的速度能与 CPU 相匹敌”，但是存储器的“<strong>容量</strong>、<strong>速度</strong>、<strong>价格</strong>”存在着相互制约的关系。因此，为了弥补 CPU 和存储器在速度上的差异，一条途径是在组成上引入<strong>并行</strong>和<strong>重叠</strong>技术，构成<strong>并行主存系统</strong>。通过这种方式可以实现“在每位价格基本保持不变的前提上，提高主存的频宽”。</p><blockquote><p>谈存储时，一定要关注3样东西：容量、速度、价格。</p></blockquote><p>容量、速度、价格有着这样一种关系：容量越大，速度越低，价格越高。</p><h2 id="并行主存系统" tabindex="-1"><a class="header-anchor" href="#并行主存系统"><span>并行主存系统**</span></a></h2><p>概念：能够并行读出多个 CPU 的<strong>单体多字</strong>、<strong>多体单字</strong>、<strong>多体多字</strong>的交叉访问主存系统，统称为<strong>并行主存系统</strong>。</p><p><strong>并行主存系统的频宽分析结论</strong>：</p><p>提高模m,可以提高并行主存系统的速度（频宽），但实际频宽并不随着m的提高而线性提高。因为：</p><p>① 模m越大，<strong>总线</strong>越长，传输速度越慢。</p><p>② <strong>转移指令</strong>的客观存在性会导致存储器的并行访问效率下降。</p><p>因此：提高m的值能提高主存系统的最大频宽，但主存的实际频宽并不随m值增大而线性提高，实际效率偏低。</p><blockquote><p>【图】并行访问存储器结构框图</p><figure><img src="https://cdn.jsdelivr.net/gh/zhengzhenning/imageBeds@main/images/image-20230212123752183.png" alt="image-20230212123752183" tabindex="0" loading="lazy"><figcaption>image-20230212123752183</figcaption></figure></blockquote><h3 id="每周期能访问的平均字数" tabindex="-1"><a class="header-anchor" href="#每周期能访问的平均字数"><span>每周期能访问的平均字数 *</span></a></h3><blockquote><p>【例】讨论模32和模16的多体单字存储器中，每个周期你呢个访问到的平均字数 （<strong>记住公式，带上计算器</strong>）</p><figure><img src="https://cdn.jsdelivr.net/gh/zhengzhenning/imageBeds@main/images/IMG_9424.jpeg" alt="IMG_9424" tabindex="0" loading="lazy"><figcaption>IMG_9424</figcaption></figure></blockquote><h1 id="存储体系-1" tabindex="-1"><a class="header-anchor" href="#存储体系-1"><span>存储体系</span></a></h1><p>存储体系是让构成存储系统的几种不同的存储器（$M_1 ~ M_n$）之间，配上辅助软、硬件或辅助硬件，使之从应用程序员角度来看，它在逻辑上是一个整体。不同于存储系统，存储系统是由多个存储器简单的组合在一起。</p><p>一般有两种基本的二级存储体系：</p><ol><li>虚拟存储器。因<strong>主存容量</strong>不满足要求而提出来的。</li><li>Cache 存储器。因<strong>主存速度</strong>不满足要求而提出来的。</li></ol><table><thead><tr><th style="text-align:center;">虚拟存储器</th><th style="text-align:center;">Cache 存储器</th></tr></thead><tbody><tr><td style="text-align:center;"><img src="https://cdn.jsdelivr.net/gh/zhengzhenning/imageBeds@main/images/image-20230212124946461.png" alt="image-20230212124946461" loading="lazy"></td><td style="text-align:center;"><img src="https://cdn.jsdelivr.net/gh/zhengzhenning/imageBeds@main/images/image-20230212124935827.png" alt="image-20230212124935827" loading="lazy"></td></tr><tr><td style="text-align:center;">目的：扩容</td><td style="text-align:center;">目的：提速</td></tr></tbody></table><h2 id="构成依据-局部性" tabindex="-1"><a class="header-anchor" href="#构成依据-局部性"><span>构成依据（局部性）**</span></a></h2><blockquote><p>简述计算机程序时间上的局部性和空间上的局部性 <strong>2210</strong></p></blockquote><p>《计算机系统结构（2012版）》ch4p127</p><p>基于<strong>程序的局部性</strong>预知未来被访问信息的地址，包括<strong>时间的局部性</strong>和<strong>空间的局部性</strong>。其中：</p><p><strong>时间上的局部性</strong>系指在最近的未来要用到的信息很可能是现在正在使用的信息。这是因为程序存在循环。</p><p><strong>空间上的局部性</strong>系指在最近的未来要用的信息很可能与现在正在的使用的信息在程序空间上是邻近的。这是因为指令和数据一般都是相对簇聚成页或块的。</p><p>预知的准确性是设计存储体系好坏的主要标志，一般取决于<strong>算法</strong>和<strong>地址映像变换方式</strong>。</p><h2 id="性能参数" tabindex="-1"><a class="header-anchor" href="#性能参数"><span>性能参数</span></a></h2><p>评价存储器性能需引入3个指标：</p><ul><li>每位价格 $c$</li><li>命中率 $H$</li><li>等效访问时间 $T_A$</li></ul><p>以此图例给出公式：</p><blockquote><p>【图】由两个存储器构成的存储系统</p><figure><img src="https://cdn.jsdelivr.net/gh/zhengzhenning/imageBeds@main/images/image-20230212130708243.png" alt="image-20230212130708243" tabindex="0" loading="lazy"><figcaption>image-20230212130708243</figcaption></figure><p>其中， S - 容量；C - 每位价格；T - 访问时间</p></blockquote><h3 id="计算价格" tabindex="-1"><a class="header-anchor" href="#计算价格"><span>计算价格</span></a></h3><figure><img src="https://cdn.jsdelivr.net/gh/zhengzhenning/imageBeds@main/images/image-20230212130848052.png" alt="image-20230212130848052" tabindex="0" loading="lazy"><figcaption>image-20230212130848052</figcaption></figure><h3 id="计算命中率" tabindex="-1"><a class="header-anchor" href="#计算命中率"><span>计算命中率</span></a></h3><figure><img src="https://cdn.jsdelivr.net/gh/zhengzhenning/imageBeds@main/images/image-20230212130928879.png" alt="image-20230212130928879" tabindex="0" loading="lazy"><figcaption>image-20230212130928879</figcaption></figure><h3 id="计算平均访问时间" tabindex="-1"><a class="header-anchor" href="#计算平均访问时间"><span>计算平均访问时间 **</span></a></h3><figure><img src="https://cdn.jsdelivr.net/gh/zhengzhenning/imageBeds@main/images/image-20230212131145609.png" alt="image-20230212131145609" tabindex="0" loading="lazy"><figcaption>image-20230212131145609</figcaption></figure><h3 id="计算访问效率" tabindex="-1"><a class="header-anchor" href="#计算访问效率"><span>计算访问效率 **</span></a></h3><figure><img src="https://cdn.jsdelivr.net/gh/zhengzhenning/imageBeds@main/images/image-20230212130951283.png" alt="image-20230212130951283" tabindex="0" loading="lazy"><figcaption>image-20230212130951283</figcaption></figure><p><strong>访问效率</strong>与<strong>命中率</strong>和<strong>两级存储器的速度之比</strong>有关：</p><blockquote><figure><img src="https://cdn.jsdelivr.net/gh/zhengzhenning/imageBeds@main/images/image-20230212131106510.png" alt="image-20230212131106510" tabindex="0" loading="lazy"><figcaption>image-20230212131106510</figcaption></figure><p>由图可知，人们总是期望等效访问效率 $e→1$ ，那么：</p><p>在 $r$ 越大时，若要求 $e→1$ ，则 $H→1$。即<strong>等效访问速度与命中率密切相关</strong>。</p></blockquote><h1 id="虚拟存储器" tabindex="-1"><a class="header-anchor" href="#虚拟存储器"><span>虚拟存储器</span></a></h1><p>虚拟存储器通过增设地址映像表机构来实现程序在主存中的定位。将程序分割成若干段或页，再用映像表指明程序的某段或某页是否已装入主存。若已装入，指明其在主存中的起始位置；若未装入，就去辅存中调段或调页，装入主存后在映像表中建立好程序空间和实存空间的地址映像关系。如此，<strong>【1910】程序执行时通过查映像表将程序（虚）地址变换成实（主）存地址再访问主存</strong>。</p><ul><li><p>📚《计算机系统结构》page#134：虚实地址对应关系及空间压缩</p></li><li><p><a href="https://www.icourse163.org/learn/HUST-1207109824?tid=1207462224#/learn/content?type=detail&amp;id=1214308278&amp;sm=1" target="_blank" rel="noopener noreferrer">华中科大-谢长生：虚拟存储器</a></p></li></ul><p>提出虚拟存储器的原因：主存<strong>容量</strong>满足不了要求。</p><p>虚拟存储器研究4个问题：</p><ol><li>映像规则：全相联</li><li>查找算法：页表、段表、<strong>TLB</strong>*</li><li>替换算法：LRU</li><li>写策略：写回法</li></ol><h2 id="存储管理方式" tabindex="-1"><a class="header-anchor" href="#存储管理方式"><span>存储管理方式</span></a></h2><p>根据存储映像算法的不同，可有多种不同的存储管理方式的虚拟存储器，其中主要有 3 种存储管理方式：<strong>段式</strong>、<strong>页式</strong>、<strong>段页式</strong>。</p><h2 id="段式虚拟存储器" tabindex="-1"><a class="header-anchor" href="#段式虚拟存储器"><span>段式虚拟存储器</span></a></h2><p>程序都是有<strong>模块性</strong>，一个复杂的大程序总是可以分解成多个逻辑上相对独立的模块。这些模块可以是<strong>主程序</strong>、<strong>子程序</strong>或<strong>过程</strong>，也可以是<strong>数据块</strong>。 <strong>^</strong></p><p>段式管理：将<strong>主存</strong>按<strong>段</strong>分配的管理方式，即为段式管理。</p><h3 id="地址映像" tabindex="-1"><a class="header-anchor" href="#地址映像"><span>地址映像</span></a></h3><blockquote><p>【图】段式虚拟存储器的地址映像方式<img src="https://cdn.jsdelivr.net/gh/zhengzhenning/imageBeds@main/images/image-20230212132840646.png" alt="image-20230212132840646" loading="lazy"></p><p>从这张图里，要看懂 2 个地方：</p><ol><li>每个程序段的从 0 开始编址</li><li>每个程序的段长，可长可短</li></ol></blockquote><h3 id="地址变换" tabindex="-1"><a class="header-anchor" href="#地址变换"><span>地址变换</span></a></h3><blockquote><p>【图】段式虚拟存储器的地址变换方法</p><figure><img src="https://cdn.jsdelivr.net/gh/zhengzhenning/imageBeds@main/images/image-20230212133514178.png" alt="image-20230212133514178" tabindex="0" loading="lazy"><figcaption>image-20230212133514178</figcaption></figure></blockquote><h3 id="优缺点" tabindex="-1"><a class="header-anchor" href="#优缺点"><span>优缺点</span></a></h3><p>优点方面：<strong>模块化性能高</strong>，便于程序和数据的共享；程序的动态链接和调度比较容易；便于实现信息保护。</p><p>缺点方面：地址变换时间长；主存储器利用率低；辅存管理困难。</p><h2 id="页式虚拟存储器" tabindex="-1"><a class="header-anchor" href="#页式虚拟存储器"><span>页式虚拟存储器 * *</span></a></h2><p>段式存储的诸多缺点，比如辅助开销大、查表速度慢、段间零头多等问题，促使人们提出了页式存储。</p><p><strong>页式存储</strong>是把<strong>主存空间</strong>和<strong>程序空间</strong>都<strong>机械地等分</strong>成固定大小的页，按页顺序编号。</p><h3 id="地址映像-1" tabindex="-1"><a class="header-anchor" href="#地址映像-1"><span>地址映像</span></a></h3><p>将<strong>主存块</strong>按某种规则装入<strong>Cache <strong>中；即建立</strong>多用户虚地址</strong>与<strong>主存地址</strong>的对应关系（<strong>一种函数关系</strong>）。</p><figure><img src="https://cdn.jsdelivr.net/gh/zhengzhenning/imageBeds@main/images/image-20230212134701081.png" alt="image-20230212134701081" tabindex="0" loading="lazy"><figcaption>image-20230212134701081</figcaption></figure><p><strong>映像规则的选择要求（3看）</strong>：</p><ol><li>看<strong>硬件</strong>是否<strong>速度快</strong>、<strong>价格低</strong>和<strong>实现方便</strong></li><li>看<strong>块冲突概率</strong>是否低</li><li>看<strong>Cache 空间利用率</strong>是否高。</li></ol><h3 id="地址变换-1" tabindex="-1"><a class="header-anchor" href="#地址变换-1"><span>地址变换</span></a></h3><p>地址变换：将<strong>主存地址</strong>变换成 Cache 地址；</p><figure><img src="https://cdn.jsdelivr.net/gh/zhengzhenning/imageBeds@main/images/image-20230212135023209.png" alt="image-20230212135023209" tabindex="0" loading="lazy"><figcaption>image-20230212135023209</figcaption></figure><h3 id="优缺点-1" tabindex="-1"><a class="header-anchor" href="#优缺点-1"><span>优缺点</span></a></h3><p>优点方面：</p><ul><li>主存储器的利用率比较高</li><li>页表相对比较简单</li><li>地址变换的速度比较快</li><li>对磁盘的管理比较容易</li></ul><p>缺点方面：</p><ul><li>程序模块化性能不好</li><li>页表很长，需占用很大的存储空间</li></ul><h3 id="页面替换算法" tabindex="-1"><a class="header-anchor" href="#页面替换算法"><span>页面替换算法 * ^</span></a></h3><h4 id="页面失效" tabindex="-1"><a class="header-anchor" href="#页面失效"><span>页面失效</span></a></h4><p>CPU 要使用的数据（或指令）不在<strong>主存</strong>时，会产生<strong>页面失效</strong>，需从<strong>辅存</strong>调取新页（页面中包含要使用的数据（或指令））</p><h4 id="实页冲突" tabindex="-1"><a class="header-anchor" href="#实页冲突"><span>实页冲突</span></a></h4><p>在<strong>主存已满</strong>的情况下发生了<strong>页面失效</strong>，那么从<strong>辅存</strong>调取新页到主存时，就会发生<strong>实页冲突</strong>。</p><p>为解决实页冲突问题，就必须通过<strong>页面替换算法</strong>来决定“选择主存中的哪个页面作为被替换的页”</p><h4 id="替换算法" tabindex="-1"><a class="header-anchor" href="#替换算法"><span>替换算法 * ^</span></a></h4><p><strong>替换算法的确定依据</strong> ：</p><ul><li><p>主存是否有高的命中率；</p></li><li><p>算法是否便于实现；</p></li><li><p>辅助软、硬件成本是否低。</p></li></ul><p>目前，主要的替换算法有：</p><ol><li>随机算法（已过时）</li><li>最优替换算法（OTP），理想型算法，仅作为评价其它算法好坏的标准</li><li><strong>先进先出算法（FIFO）</strong></li><li><strong>近期最少使用算法（LRU）</strong></li></ol><p>替换算法一般<strong>通过页地址流模拟其替换过程</strong>，再根据命中率的高低评价其好坏。<strong>影响命中率的因素</strong>除<strong>替换算法</strong>外，还有<strong>地址流</strong>、<strong>页面大小</strong>和<strong>主存容量</strong>等。<strong>^</strong></p><blockquote><p>【图】三种页面替换算法对同一页面地址流的调度过程</p><figure><img src="https://cdn.jsdelivr.net/gh/zhengzhenning/imageBeds@main/images/image-20230212203934288.png" alt="image-20230212203934288" tabindex="0" loading="lazy"><figcaption>image-20230212203934288</figcaption></figure></blockquote><h3 id="堆栈型替换算法" tabindex="-1"><a class="header-anchor" href="#堆栈型替换算法"><span>堆栈型替换算法 * *</span></a></h3><p><strong>定义</strong> 对任意一个程序的<strong>页地址流</strong>作两次<strong>主存页面数分配</strong>，分别分配 $m$ 个主存页和 $n$ 个主存页面，且满足 $m≤n$ 。若在任意时刻 $t$ ，主存页面集合 $B_t$ 都满足 $B_t(m) ⊆ B_t(n)$ 。 则此类算法称为<strong>堆栈型替换算法</strong>。</p><p><strong>特点</strong> 随着分配给程序的主存页面数增加，主存的命中率也提高。</p><blockquote><p>LRU 是堆栈型替换算法、OPT也是 *</p></blockquote><p>不同的堆栈型替换算法，替换页号的过程也不同。<strong>对于 LRU 算法，是把主存中刚访问过的页号置于栈顶，把最久未访问的置于栈底</strong>。</p><blockquote><p>【例】使用 LRU 替换算法对页面地址流进行堆栈处理</p><p>可以从中看出最近访问和最久未被访问的页号如何处置</p><figure><img src="https://cdn.jsdelivr.net/gh/zhengzhenning/imageBeds@main/images/IMG_9425.jpeg" alt="IMG_9425" tabindex="0" loading="lazy"><figcaption>IMG_9425</figcaption></figure></blockquote><h3 id="页面失效频率-pff-算法" tabindex="-1"><a class="header-anchor" href="#页面失效频率-pff-算法"><span>页面失效频率（PFF）算法</span></a></h3><p>利用堆栈型替换算法的特点，人们对其加以改进并创造出了<strong>页面失效频率（PFF）算法</strong>：该算法可以根据程序运行中的<strong>主存页面失效率</strong>，来<strong>动态调整实页数</strong>。当主存页面失效率超过某个<strong>阈值</strong>时，就自动加配主存实页数，反之减少。以此使主存的命中率和使用率都得到提高。</p><h3 id="提高主存命中率" tabindex="-1"><a class="header-anchor" href="#提高主存命中率"><span>提高主存命中率</span></a></h3><h4 id="影响主存命中率的因素" tabindex="-1"><a class="header-anchor" href="#影响主存命中率的因素"><span>影响主存命中率的因素 *</span></a></h4><ul><li>程序在执行过程中的<strong>页地址流</strong>分布情况。</li><li><strong>页面大小</strong></li><li><strong>主存容量</strong></li><li><strong>页面替换算法</strong></li><li><strong>页面调度算法</strong></li></ul><p>如：页式虚拟存储器中，影响命中率的因素除<strong>替换算法</strong>外，还有地址流、<strong>页面大小</strong>、主存容量等。 <strong>^</strong></p><h4 id="提高主存命中率的办法" tabindex="-1"><a class="header-anchor" href="#提高主存命中率的办法"><span>提高主存命中率的办法</span></a></h4><p>利用<strong>页面大小</strong>提高命中率：</p><blockquote><p>【图】页面大小与命中率的关系图。</p><figure><img src="https://cdn.jsdelivr.net/gh/zhengzhenning/imageBeds@main/images/image-20230215182001546.png" alt="image-20230215182001546" tabindex="0" loading="lazy"><figcaption>image-20230215182001546</figcaption></figure></blockquote><p>利用<strong>主存容量</strong>提供命中率</p><blockquote><p>【图】主存容量与命中率的关系</p><figure><img src="https://cdn.jsdelivr.net/gh/zhengzhenning/imageBeds@main/images/image-20230215182138990.png" alt="image-20230215182138990" tabindex="0" loading="lazy"><figcaption>image-20230215182138990</figcaption></figure></blockquote><p>利用<strong>页面调度方式</strong>提高命中率</p><ul><li>请求式：使用时，再调入主存。</li><li>预取式：程序重启前，先将上一次停止运行前一段时间内用到页面调入到主存，然后再启动程序。优点：避免程序重启后，发生页面失效；缺点：调入的页很可能用不上，导致时间浪费了，空间被占了。</li></ul><h2 id="段页式虚拟存储器" tabindex="-1"><a class="header-anchor" href="#段页式虚拟存储器"><span>段页式虚拟存储器</span></a></h2><p>段页式存储即把<strong>主存</strong>机械地等分成固定大小的页，程序按模块<strong>分段</strong>，每个段又分成与主存页面大小相同的页。</p><h3 id="地址映像-2" tabindex="-1"><a class="header-anchor" href="#地址映像-2"><span>地址映像</span></a></h3><blockquote><p>【图】段页式虚拟存储器的地址映像</p><figure><img src="https://cdn.jsdelivr.net/gh/zhengzhenning/imageBeds@main/images/image-20230212135618065.png" alt="image-20230212135618065" tabindex="0" loading="lazy"><figcaption>image-20230212135618065</figcaption></figure></blockquote><h3 id="地址变换-2" tabindex="-1"><a class="header-anchor" href="#地址变换-2"><span>地址变换</span></a></h3><blockquote><p>【图】段页式虚拟存储器的地址变换过程</p><figure><img src="https://cdn.jsdelivr.net/gh/zhengzhenning/imageBeds@main/images/image-20230212135956576.png" alt="image-20230212135956576" tabindex="0" loading="lazy"><figcaption>image-20230212135956576</figcaption></figure></blockquote><h1 id="高速缓冲-cache-存储器" tabindex="-1"><a class="header-anchor" href="#高速缓冲-cache-存储器"><span>高速缓冲（Cache）存储器</span></a></h1><p>高速缓冲存储器：弥补主存<strong>速度</strong>不足，在 CPU 和主存之间设置一个<strong>高速</strong>、<strong>小容量</strong>的 Cache ，构成【 Cache -主存】存储层次，使之从 CPU 角度看，速度接近于 Cache ，容量却是主存。</p><blockquote><p>【图】Cache - 主存存储层次图</p><figure><img src="https://cdn.jsdelivr.net/gh/zhengzhenning/imageBeds@main/images/image-20230215183943952.png" alt="image-20230215183943952" tabindex="0" loading="lazy"><figcaption>image-20230215183943952</figcaption></figure></blockquote><p>当我们谈Cache存储系统时，我们从4个方面谈：</p><ul><li>（数据）如何放？3种映像方式（全、直、组相联映像）</li><li>（数据）如何找？根据地址找（块号、块内地址等）</li><li>（数据）如何写？写直达法、写回法</li><li>（数据）如何换？LRU等替换算法</li></ul><h2 id="地址映像与变换" tabindex="-1"><a class="header-anchor" href="#地址映像与变换"><span>地址映像与变换</span></a></h2><ul><li><a href="https://www.icourse163.org/learn/HUST-1207109824?tid=1207462224#/learn/content?type=detail&amp;id=1214348301&amp;cid=1217926716" target="_blank" rel="noopener noreferrer">全、直、组相联地址映像与变换的过程-华中科技大学</a></li></ul><p>【Cache-主存】的<strong>地址映像</strong>是指把主存中的程序按照某种规则装入到cache中，并建立<strong>主存地址</strong>与<strong>cache地址</strong>之间的对应关系。</p><p>【Cache-主存】的地址<strong>映像方式</strong>有 3种，<u><strong>简记：全直组</strong></u> 。 ^</p><p>【Cache-主存】的<strong>地址变换</strong>是指当程序装入到cache后，在程序运行过程中，把<strong>主存地址</strong>变换成<strong>cache地址</strong>。 ^</p><p><b style="color:red;">选取地址映像方法的需要考虑哪些因素？</b></p><ol><li>硬件是否速度高、价格低、易实现</li><li>块冲突概率是否低</li><li>Cache空间利用率是否高</li></ol><p><b style="color:red;">3种地址映像和变换分别是什么？</b> <strong><u>简记：全直组</u></strong></p><ol><li>全相联映像和变换</li><li>直接相联映像和变换</li><li><strong>组相联映像和变换</strong></li></ol><h3 id="全相联地址映像与变换" tabindex="-1"><a class="header-anchor" href="#全相联地址映像与变换"><span>全相联地址映像与变换</span></a></h3><h4 id="地址的映像规则" tabindex="-1"><a class="header-anchor" href="#地址的映像规则"><span>地址的映像规则</span></a></h4><p>主存的任意一块可以映像到 Cache 中的任意一块。 <strong><u>简记：多对多映射</u></strong></p><blockquote><p>【图】cache-主存的全相联地址映像，映像关系有 $C_b × M_b$ 种</p><figure><img src="https://cdn.jsdelivr.net/gh/zhengzhenning/imageBeds@main/images/image-20230215184802915.png" alt="image-20230215184802915" tabindex="0" loading="lazy"><figcaption>image-20230215184802915</figcaption></figure></blockquote><h4 id="地址的变换过程" tabindex="-1"><a class="header-anchor" href="#地址的变换过程"><span>地址的变换过程</span></a></h4><blockquote><p>【图】cache-主存的地址变换过程</p><figure><img src="https://cdn.jsdelivr.net/gh/zhengzhenning/imageBeds@main/images/image-20230215185049012.png" alt="image-20230215185049012" tabindex="0" loading="lazy"><figcaption>image-20230215185049012</figcaption></figure></blockquote><h4 id="优缺点-2" tabindex="-1"><a class="header-anchor" href="#优缺点-2"><span>优缺点</span></a></h4><p>优点：块冲突概率低，空间利用率高。</p><p>缺点：相联存储成本高，查表速度慢。</p><h3 id="直接相联地址映像与变换" tabindex="-1"><a class="header-anchor" href="#直接相联地址映像与变换"><span>直接相联地址映像与变换</span></a></h3><h4 id="地址的映像规则-1" tabindex="-1"><a class="header-anchor" href="#地址的映像规则-1"><span>地址的映像规则</span></a></h4><p>主存储器中一块只能映像到 Cache 的一个特定的块中。 <strong><u>简记：一对一映射</u></strong></p><blockquote><p>【图】直接映像方式的地址映像规则</p><figure><img src="https://cdn.jsdelivr.net/gh/zhengzhenning/imageBeds@main/images/image-20230215185440351.png" alt="image-20230215185440351" tabindex="0" loading="lazy"><figcaption>image-20230215185440351</figcaption></figure></blockquote><h4 id="地址的变换过程-1" tabindex="-1"><a class="header-anchor" href="#地址的变换过程-1"><span>地址的变换过程</span></a></h4><blockquote><p>【图】直接相联地址变换过程</p><figure><img src="https://cdn.jsdelivr.net/gh/zhengzhenning/imageBeds@main/images/image-20230215185854589.png" alt="image-20230215185854589" tabindex="0" loading="lazy"><figcaption>image-20230215185854589</figcaption></figure></blockquote><h4 id="优缺点-3" tabindex="-1"><a class="header-anchor" href="#优缺点-3"><span>优缺点</span></a></h4><p>优点：硬件实现简单，不需要相联访问存储器；访问速度快，不需要地址变换。</p><p>缺点：块冲突概率高。</p><h3 id="组相联地址映像与变换" tabindex="-1"><a class="header-anchor" href="#组相联地址映像与变换"><span>组相联地址映像与变换</span></a></h3><h4 id="地址映像规则" tabindex="-1"><a class="header-anchor" href="#地址映像规则"><span>地址映像规则</span></a></h4><ul><li>主存和Cache按同样大小划分成块和组。</li><li>主存和Cache按照**“组间直，组内全”**的原则进行映像。</li></ul><blockquote><p>【图】组相联地址映像方式</p><figure><img src="https://cdn.jsdelivr.net/gh/zhengzhenning/imageBeds@main/images/IMG_F31E18E348B8-1.jpeg" alt="IMG_F31E18E348B8-1" tabindex="0" loading="lazy"><figcaption>IMG_F31E18E348B8-1</figcaption></figure></blockquote><h4 id="地址变换过程" tabindex="-1"><a class="header-anchor" href="#地址变换过程"><span>地址变换过程</span></a></h4><blockquote><p>【图】组相联映像的地址变换过程</p><figure><img src="https://cdn.jsdelivr.net/gh/zhengzhenning/imageBeds@main/images/image-20230215191236572.png" alt="image-20230215191236572" tabindex="0" loading="lazy"><figcaption>image-20230215191236572</figcaption></figure></blockquote><h4 id="优缺点-4" tabindex="-1"><a class="header-anchor" href="#优缺点-4"><span>优缺点</span></a></h4><p>优点：块的冲突概率低，块的利用率大幅度提高，块失效率明显降低。</p><p>缺点：实现难度和造价要比直接映像方式高。</p><h2 id="cache-替换算法及其实现" tabindex="-1"><a class="header-anchor" href="#cache-替换算法及其实现"><span>Cache 替换算法及其实现</span></a></h2><p>Cache 替换算法主要用于<strong>组相联、段相联</strong>中，而直接相联映像是<strong>不需要</strong>替换算法的，全相联映像的替换算法<strong>最复杂</strong>。<br> 替换算法主要用来<strong>记录和管理块号</strong>，并在合适的条件下完成块号的替换。Cache 替换算法是用<strong>硬件</strong>实现的，这样可以减少 CPU 空等时间，确保 Cache 调块时间为微秒级。</p><h3 id="轮换法及其实现" tabindex="-1"><a class="header-anchor" href="#轮换法及其实现"><span>轮换法及其实现</span></a></h3><p>轮换法一般用在组相联映像方式中，有 2 种方式：</p><ol><li>每块一个计数器</li><li>每组一个计数器</li></ol><h4 id="每块一个计数器" tabindex="-1"><a class="header-anchor" href="#每块一个计数器"><span>每块一个计数器</span></a></h4><p>计数规则：新装入或替换的块，其计数器清零，同组其他块的计数器都加 1</p><blockquote><p>【图】每块一个计数器</p><figure><img src="https://cdn.jsdelivr.net/gh/zhengzhenning/imageBeds@main/images/image-20230216183049198.png" alt="image-20230216183049198" tabindex="0" loading="lazy"><figcaption>image-20230216183049198</figcaption></figure><p>如：</p><p>装入<code>块00</code>使，<code>块00</code>的计数器清零，其余加1</p><p>装入<code>块01</code>时，<code>块01</code>的计数器清零，其余加1</p></blockquote><h4 id="每组一个计数器" tabindex="-1"><a class="header-anchor" href="#每组一个计数器"><span>每组一个计数器</span></a></h4><p>替换与计数规则：本组有替换时，计数器加1。计数器的值为待被替换的块号</p><blockquote><p>NOVA3 机的 Cache 采用组相联映像方式，Cache 每组的块数为 8，每组设置了一个 3 位 计数器。在需要替换时，计数器的值加1，用计数器的值直接作为被替换块的块号。</p><p>如 000 + 1 = 001，则被替换的块的块号位001</p></blockquote><h4 id="优缺点-5" tabindex="-1"><a class="header-anchor" href="#优缺点-5"><span>优缺点</span></a></h4><p>优点：实现简单，能够利用历史上的块地址流情况。</p><p>缺点：没有利用到程序的局部性特点。（比较致命）</p><h3 id="lru-算法及其实现" tabindex="-1"><a class="header-anchor" href="#lru-算法及其实现"><span>LRU 算法及其实现 *</span></a></h3><p>为每一块设置一个计数器，计数器长度=块号字段长度</p><p>规则：新装入或替换的块，计数器清零，同组中其他块的计数器加1。命中的块计数器清零，需替换时，替换掉同组中取计数器值最大的块。</p><blockquote><p>IBM 370/165 的 Cache 采用组相联映象方式。</p><p><strong>每组有4块</strong>，为实现 LRU 替换算法，在块表中为每一块设置一个 <strong>2 位的计数器</strong>。在访问 Cache 的过程中，块的装入、替换及命中时，计数器的工作情况：</p><figure><img src="https://cdn.jsdelivr.net/gh/zhengzhenning/imageBeds@main/images/IMG_80C3F397D371-1.jpeg" alt="IMG_80C3F397D371-1" tabindex="0" loading="lazy"><figcaption>IMG_80C3F397D371-1</figcaption></figure></blockquote><h4 id="优缺点-6" tabindex="-1"><a class="header-anchor" href="#优缺点-6"><span>优缺点</span></a></h4><p>优点：命中率高，能够比较正确地利用<strong>程序的局部性</strong>特点，充分地利用历史上块地址流的分布情况；是一种堆栈型算法，随着组内块数增加，命中率单调上升。</p><p>缺点：控制逻辑复杂。</p><h3 id="比较对法及其实现" tabindex="-1"><a class="header-anchor" href="#比较对法及其实现"><span>比较对法及其实现 -</span></a></h3><h3 id="堆栈法及其实现" tabindex="-1"><a class="header-anchor" href="#堆栈法及其实现"><span>堆栈法及其实现 -</span></a></h3><h2 id="cache-性能分析" tabindex="-1"><a class="header-anchor" href="#cache-性能分析"><span>Cache 性能分析 * **</span></a></h2><blockquote><p>【图】 Cache 加速比公式：</p><figure><img src="https://cdn.jsdelivr.net/gh/zhengzhenning/imageBeds@main/images/image-20230216190306201.png" alt="image-20230216190306201" tabindex="0" loading="lazy"><figcaption>image-20230216190306201</figcaption></figure><ul><li>$T_m$ ： 主存访问周期</li><li>$T_c$ ：cache 访问周期</li><li>$T$ : cache 等效访问周期</li><li>$H$： 命中率</li></ul><p>加速比 $S_p$ 与 $H$ 的关系：</p><figure><img src="https://cdn.jsdelivr.net/gh/zhengzhenning/imageBeds@main/images/image-20230216190509570.png" alt="image-20230216190509570" tabindex="0" loading="lazy"><figcaption>image-20230216190509570</figcaption></figure><p>结论：<strong>提高加速比</strong>的最好途径是<strong>提高命中率</strong>。</p></blockquote><h3 id="提高-c-的命中率" tabindex="-1"><a class="header-anchor" href="#提高-c-的命中率"><span>提高 C 的命中率</span></a></h3><h4 id="影响-c-命中率的因素" tabindex="-1"><a class="header-anchor" href="#影响-c-命中率的因素"><span>影响 C 命中率的因素 *</span></a></h4><ul><li>程序执行过程中的<strong>地址流分布</strong>情况</li><li>当 cache 发生块失效时，使用的<strong>替换算法</strong></li><li><strong>cache 容量</strong></li><li><strong>在相联映像中，块的大小和分组的数目</strong></li><li><strong>cache 取方法</strong></li></ul><p>因此，适当选择好 Cache 的容量、块的大小、组相联的组数和组内块数，是可以保证有较高的命中率。 ^</p><p><strong>Cache 容量对命中率的影响</strong></p><blockquote><p>【图】cache 容量与命中率的关系</p><figure><img src="https://cdn.jsdelivr.net/gh/zhengzhenning/imageBeds@main/images/image-20230216190750180.png" alt="image-20230216190750180" tabindex="0" loading="lazy"><figcaption>image-20230216190750180</figcaption></figure><p>结论：随着容量的增大而增大，大到一定程度后，$H$ 提高变慢。</p></blockquote><p><strong>Cache 块大小对命中率的影响</strong></p><blockquote><p>【图】Cache 块大小对命中率的影响</p><figure><img src="https://cdn.jsdelivr.net/gh/zhengzhenning/imageBeds@main/images/image-20230216191045024.png" alt="image-20230216191045024" tabindex="0" loading="lazy"><figcaption>image-20230216191045024</figcaption></figure><p>结论：在<strong>组相联映像</strong>方式中，块大小对命中率非常敏感：块很小时。命中率很低，随着块大小的增加命中率也增加，但存在一个极大值。当块大小增大到越过极大值时，随着块大小的增加命中率将趋于 0 。</p></blockquote><p><strong>Cache 组数对命中率的影响</strong></p><blockquote><p>结论：组数增，命中率降。</p></blockquote><p><strong>Cache 预取法对命中率的影响</strong></p><blockquote><p>结论：采用预取法不一定能提高命中率。</p></blockquote><h4 id="提高-c-命中率的方法" tabindex="-1"><a class="header-anchor" href="#提高-c-命中率的方法"><span>提高 C 命中率的方法</span></a></h4><ul><li><p><a href="https://www.icourse163.org/learn/HUST-1207109824?tid=1207462224#/learn/content?type=detail&amp;id=1214344418&amp;cid=1217964267&amp;replay=true" target="_blank" rel="noopener noreferrer">华中科大-谢长生：降低 Cache 不命中率</a></p></li><li><p><a href="https://www.icourse163.org/learn/HUST-1207109824?tid=1207462224#/learn/content?type=detail&amp;id=1214344418&amp;sm=1" target="_blank" rel="noopener noreferrer">华中科大-谢长生：减少 Cache 不命中开销</a></p></li></ul><h2 id="cache-数据一致性" tabindex="-1"><a class="header-anchor" href="#cache-数据一致性"><span>Cache 数据一致性</span></a></h2><p>通过一张图，理解Cache 与主存数据不一致的根本原因：</p><blockquote><p>【图】造成 Cache 与 主存 数据不一致的原因：</p><ul><li>CPU 写 Cache 时，没有立即写主存</li><li>I/O 写主存时，没有立即写 Cache</li></ul><figure><img src="https://cdn.jsdelivr.net/gh/zhengzhenning/imageBeds@main/images/IMG_1A4D8D23F10B-1.jpeg" alt="IMG_1A4D8D23F10B-1" tabindex="0" loading="lazy"><figcaption>IMG_1A4D8D23F10B-1</figcaption></figure></blockquote><h3 id="cache-的更新算法" tabindex="-1"><a class="header-anchor" href="#cache-的更新算法"><span>Cache 的更新算法</span></a></h3><ul><li><strong>写直达法：利用 CPU 与主存之间的通路，将数据写入 Cache 和主存中。</strong></li><li><strong>写回法</strong>：执行写操作时，<strong>只写入 Cache</strong> ；当发生<strong>替换</strong>时，先将 <strong>Cache</strong> 块写入<strong>主存</strong>，再调入<strong>新块</strong>。</li></ul><p><strong>写直达法和写回法的比较</strong>：<br> 从可靠性、通信量、复杂性、硬件实现代价进行比较</p><p>① 从<strong>可靠性</strong>的角度比较，写直达法优于写回法。</p><p>因为其能够保证cache中的数据始终是主存的副本，即使cache发生了错误，也能从主存中得到修正。</p><p>② 从<strong>主存通信量</strong>的角度比较，写回法少于写直达法。</p><p>写<strong>回</strong>法每次只写一<strong>块</strong>，而写<strong>直</strong>达法每次写一个<strong>字</strong>。<strong>（大小关系：块&gt;字）</strong> <strong><u>简记：回块直字</u></strong></p><blockquote><p>【例】通信量到比较</p><figure><img src="https://cdn.jsdelivr.net/gh/zhengzhenning/imageBeds@main/images/image-20230216193348340.png" alt="image-20230216193348340" tabindex="0" loading="lazy"><figcaption>image-20230216193348340</figcaption></figure></blockquote><p>③ 从<strong>控制复杂性</strong>的角度比较，写直达法比写回法简单。</p><p>根据”回块直字“的特点可知，写回法需为每一块设置一个修改位，并需提供复杂的校验方式或校正方式。写直达法则不需要，只需采用简单的奇偶校验即可。</p><p>④ 从<strong>硬件实现代价</strong>的角度比较，写回法比写直达法好。</p><p>写回法不需要硬件支持，而写直达法需要硬件支持。</p><h2 id="cache-预取算法" tabindex="-1"><a class="header-anchor" href="#cache-预取算法"><span>Cache 预取算法</span></a></h2><ul><li>按需取。出现不命中时，才把需要的块取到cache中。</li><li><strong>恒预取</strong>。不论是否命中，都把下一块取到cache中。</li><li><strong>不命中预取</strong>。出现不命中时，把本块和下一块一起取到cache中。</li></ul><p>主要考虑因素：命中率是否提高；cache与主存间的通信量。</p><blockquote><p>恒预取法，可使 $!H$ 降低 75%~85%；</p><p>不命中预取法，可使 $!H$ 降低 30%~40%。</p></blockquote><h1 id="虚和c的比较" tabindex="-1"><a class="header-anchor" href="#虚和c的比较"><span>虚和C的比较</span></a></h1><figure><img src="https://cdn.jsdelivr.net/gh/zhengzhenning/imageBeds@main/images/image-20230215184110228.png" alt="image-20230215184110228" tabindex="0" loading="lazy"><figcaption>image-20230215184110228</figcaption></figure></div><!----><footer class="vp-page-meta"><!----><div class="vp-meta-item git-info"><div class="update-time"><span class="vp-meta-label">上次编辑于: </span><span class="vp-meta-info" data-allow-mismatch="text">2024/4/12 10:36:39</span></div><div class="contributors"><span class="vp-meta-label">贡献者: </span><!--[--><!--[--><span class="vp-meta-info" title="email: zzn_workmail@163.com">一步</span><!--]--><!--]--></div></div></footer><nav class="vp-page-nav"><a class="route-link auto-link prev" href="/yibu_zzn/%E7%B3%BB%E7%BB%9F%E7%BB%93%E6%9E%84/%203%20%E4%B8%AD%E6%96%AD%E3%80%81%E6%80%BB%E7%BA%BF%E3%80%81IO%E7%B3%BB%E7%BB%9F.html" aria-label="中断、总线、IO系统"><div class="hint"><span class="arrow start"></span>上一页</div><div class="link"><span class="font-icon icon iconfont file" style=""></span>中断、总线、IO系统</div></a><a class="route-link auto-link next" href="/yibu_zzn/%E7%B3%BB%E7%BB%9F%E7%BB%93%E6%9E%84/%205%20%E6%A0%87%E9%87%8F%E5%A4%84%E7%90%86%E6%9C%BA.html" aria-label="标量处理机"><div class="hint">下一页<span class="arrow end"></span></div><div class="link">标量处理机<span class="font-icon icon iconfont file" style=""></span></div></a></nav><!----><!----><!--]--></main><!--]--><footer class="vp-footer-wrapper" vp-footer><div class="vp-footer">郑振宁的数字资产中心</div><div class="vp-copyright">Copyright © 2024 郑振宁 </div></footer></div><!--]--><!--[--><!----><!--[--><!--]--><!--]--><!--]--></div>
    <script type="module" src="/yibu_zzn/assets/app-Cb0mHaUK.js" defer></script>
  </body>
</html>
